<!DOCTYPE html>
<html lang="zh-CN">
<head>
<!-- 2024-10-04 Fri 16:12 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs 配置</title>
<meta name="author" content="金中甲" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://gongzhitaao.org/orgcss/org.css"/>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Emacs 配置</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgcb9c6f8">1. 前言</a></li>
<li><a href="#orgd8ea9be">2. early-init.el</a></li>
<li><a href="#orgcd106a1">3. init.el</a>
<ul>
<li><a href="#org536acbc">3.1. init.el 文件头</a></li>
<li><a href="#org7ef6558">3.2. 使用 <code>elpaca</code> 作为包管理器</a></li>
<li><a href="#org672dbe1">3.3. 为 <code>elpaca</code> 安装 <code>use-package</code></a></li>
<li><a href="#orgafef8ab">3.4. 定义几个变量</a></li>
<li><a href="#org10041a8">3.5. 加载其他的模块</a></li>
<li><a href="#orged3b2ee">3.6. init.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org326e38d">4. init-ui.el</a>
<ul>
<li><a href="#org345c169">4.1. init-ui.el 文件头</a></li>
<li><a href="#orgd956bda">4.2. 字体设置</a></li>
<li><a href="#orgd4bf359">4.3. ef theme</a></li>
<li><a href="#org118a685">4.4. auto-dark</a></li>
<li><a href="#orgc34cb43">4.5. 其他UI零散设置项</a></li>
<li><a href="#orgdecba9e">4.6. 编码设置</a></li>
<li><a href="#org6c9e0c3">4.7. doom-modeline插件</a></li>
<li><a href="#org91865eb">4.8. nerd-font</a></li>
<li><a href="#orgf25988d">4.9. diredfl</a></li>
<li><a href="#org224359b">4.10. dired 配置</a></li>
<li><a href="#org2938ff2">4.11. treemacs</a>
<ul>
<li><a href="#org6118614">4.11.1. treemacs-icons-dired</a></li>
<li><a href="#org326a168">4.11.2. treemacs-projectile</a></li>
</ul>
</li>
<li><a href="#org6f93cb7">4.12. init-ui.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org37145b7">5. init-edit.el</a>
<ul>
<li><a href="#orgc6763b2">5.1. init-edit.el 文件头</a></li>
<li><a href="#orgde412ea">5.2. 行号设置</a></li>
<li><a href="#org2c3a3ae">5.3. Emacs备份设置</a></li>
<li><a href="#org31a2aba">5.4. 解除一些不常用的快捷键</a></li>
<li><a href="#org2bbf436">5.5. 自动重载设置</a></li>
<li><a href="#org626a552">5.6. indent bar</a></li>
<li><a href="#orgbe36654">5.7. symbol-overlay</a></li>
<li><a href="#org83f1596">5.8. flycheck</a></li>
<li><a href="#orgda247d7">5.9. 彩虹括号匹配</a></li>
<li><a href="#org3a3d5f6">5.10. savehist 保存 <code>minibuffer</code> 历史记录</a></li>
<li><a href="#org113f63d">5.11. <code>save-place</code> 记住关闭文件是光标位置</a></li>
<li><a href="#org489132a">5.12. <code>recentf</code> 记住最近打开文件的历史记录</a></li>
<li><a href="#org2a8bd13">5.13. olivetti 次要模式自动平衡窗口边距</a></li>
<li><a href="#orgb5bb9b0">5.14. format all code</a></li>
<li><a href="#org6733feb">5.15. rime</a></li>
<li><a href="#org5b2c076">5.16. init-edit.el 文件尾</a></li>
</ul>
</li>
<li><a href="#orga26088a">6. init-org.el</a>
<ul>
<li><a href="#org4a36b09">6.1. init-org.el 文件头</a></li>
<li><a href="#org6a075cd">6.2. org 调整</a></li>
<li><a href="#org35d37dc">6.3. org-modern</a></li>
<li><a href="#orgf696c0c">6.4. org-modern-indent</a></li>
<li><a href="#orgff72d59">6.5. org-pretty-table</a></li>
<li><a href="#orgce01017">6.6. org 导出调整</a>
<ul>
<li><a href="#org94ba421">6.6.1. HTML 配置</a></li>
<li><a href="#org127a340">6.6.2. 导出 PDF</a></li>
</ul>
</li>
<li><a href="#orgd32f73e">6.7. org 链接类型</a></li>
<li><a href="#orgcb76209">6.8. org-contrib org 工具</a></li>
<li><a href="#org1661e98">6.9. valign 控制对齐</a></li>
<li><a href="#orge45976d">6.10. org-appear 自动展开强调链接</a></li>
<li><a href="#org6959800">6.11. toc-org 生成目录</a></li>
<li><a href="#orga7188f3">6.12. ox-gfm 导出为 markdown</a></li>
<li><a href="#orgd4ba76e">6.13. org-margin 突出显示标题</a></li>
<li><a href="#org293a49f">6.14. org-fragtog 自动切换 latex 渲染</a></li>
<li><a href="#org80b1d6d">6.15. org-roam</a></li>
<li><a href="#org35a05b4">6.16. init-org.el 文件尾</a></li>
</ul>
</li>
<li><a href="#orgfe966f8">7. init-md.el</a>
<ul>
<li><a href="#org9aad301">7.1. init-md.el 文件头</a></li>
<li><a href="#org501c1c7">7.2. markdown-mode</a></li>
<li><a href="#orgd76a008">7.3. markdown-toc</a></li>
<li><a href="#orgdbfb1c7">7.4. init-md.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org2095bba">8. init-completion.el</a>
<ul>
<li><a href="#orgec29a6f">8.1. init-completion.el 文件头</a></li>
<li><a href="#org34acb28">8.2. smartparens</a></li>
<li><a href="#org9786c31">8.3. vertico 垂直补全系统</a></li>
<li><a href="#org225318b">8.4. 提升 <code>vertico</code> 体验（抄自官方文档）</a>
<ul>
<li><a href="#org2de8bdc">8.4.1. vertico-directory</a></li>
<li><a href="#org05a3856">8.4.2. vertico-mouse</a></li>
</ul>
</li>
<li><a href="#org2d62805">8.5. orderless 无序搜索</a></li>
<li><a href="#org9f58b32">8.6. <code>marginalia</code> 增加提示信息支持</a></li>
<li><a href="#org642dfb1">8.7. consult 配置</a>
<ul>
<li><a href="#org884628c">8.7.1. consult flycheck</a></li>
<li><a href="#org328bbb7">8.7.2. consult TODO</a></li>
<li><a href="#orga123a51">8.7.3. consult ls git</a></li>
<li><a href="#orgf8666c1">8.7.4. consult dir</a></li>
<li><a href="#orgb1f8bc7">8.7.5. consult snippets</a></li>
<li><a href="#orgc4952e6">8.7.6. consult lsp</a></li>
<li><a href="#orgc22c5ee">8.7.7. consult-gh</a></li>
</ul>
</li>
<li><a href="#org3c2bd84">8.8. corfu 补全框架</a>
<ul>
<li><a href="#org8505515">8.8.1. 优化 emacs 体验</a></li>
<li><a href="#org03a146d">8.8.2. corfu-nerd-icons</a></li>
</ul>
</li>
<li><a href="#org1c9f291">8.9. dabbrev 配置</a></li>
<li><a href="#org29af432">8.10. cape 补全后端</a>
<ul>
<li><a href="#org23b947b">8.10.1. cape 集成 yasnippet</a></li>
</ul>
</li>
<li><a href="#org52b0ebd">8.11. yasnippet 补全框架</a></li>
<li><a href="#org3414c73">8.12. init-completion.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org1ed05c0">9. init-dev.tl</a>
<ul>
<li><a href="#org4ad3c3e">9.1. init-dev.el 文件头</a></li>
<li><a href="#org53a18af">9.2. magit 版本管理</a></li>
<li><a href="#org6bd84f1">9.3. magit-todo</a></li>
<li><a href="#orgf5c9741">9.4. diff-hl 高亮显示修改的部分</a></li>
<li><a href="#orgd604bf4">9.5. magit-delta 增强 <code>git diff</code></a></li>
<li><a href="#org87c65f2">9.6. magit-file-icons</a></li>
<li><a href="#orgfd547e7">9.7. treemacs-magit</a></li>
<li><a href="#org4c00682">9.8. emsg-blame</a></li>
<li><a href="#org5b1a6ea">9.9. init-dev.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org7674daf">10. init-tools.el</a>
<ul>
<li><a href="#org3d1e354">10.1. init-tools.el 文件头</a></li>
<li><a href="#orgcd4d8d2">10.2. windows/linux 粘贴图片</a></li>
<li><a href="#orgf69d49d">10.3. undo-fu</a></li>
<li><a href="#org98cd818">10.4. vundo</a></li>
<li><a href="#orgde4f6b7">10.5. 设置 shell</a></li>
<li><a href="#org1686a77">10.6. crux</a></li>
<li><a href="#orgac29a4b">10.7. mwin</a></li>
<li><a href="#orgc6a77bf">10.8. ace-window 窗口导航</a></li>
<li><a href="#orgdb2ccca">10.9. helpful帮助增强</a></li>
<li><a href="#org956e4e6">10.10. projectile</a></li>
<li><a href="#org267a4f1">10.11. init-tools.el 文件尾</a></li>
</ul>
</li>
<li><a href="#orgf7570db">11. init-lsp.el</a>
<ul>
<li><a href="#org7824ec0">11.1. init-lsp.el 文件头</a></li>
<li><a href="#org950c020">11.2. lsp-mode</a>
<ul>
<li><a href="#org4a8e0e6">11.2.1. lsp-ui</a></li>
<li><a href="#orgabbfd20">11.2.2. lsp-treemacs</a></li>
</ul>
</li>
<li><a href="#org39cc24c">11.3. lsp-pyright</a></li>
<li><a href="#orgfc685eb">11.4. lsp-bridge 配置</a></li>
<li><a href="#org96d3607">11.5. init-lsp.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org5e55a22">12. init-treesitter.el</a>
<ul>
<li><a href="#org4feff26">12.1. init-treesitter.el 文件头</a></li>
<li><a href="#orgaabf1ec">12.2. treesit-auto</a></li>
<li><a href="#org221b1bc">12.3. ts-fold</a></li>
<li><a href="#orgd52fe00">12.4. init-treesitter.el 文件尾</a></li>
</ul>
</li>
<li><a href="#orgf8aeb70">13. init-lang.el</a>
<ul>
<li><a href="#org1c9dcc0">13.1. init-lang.el 文件头</a></li>
<li><a href="#org5111ec2">13.2. web-mode</a>
<ul>
<li><a href="#org3ce478d">13.2.1. vue-mode</a></li>
</ul>
</li>
<li><a href="#org9d4099f">13.3. lua-mode</a></li>
<li><a href="#org44b0f64">13.4. go-mode</a></li>
<li><a href="#orgdac2f28">13.5. zig-mode for ziglang</a></li>
<li><a href="#org13da99b">13.6. elisp lang</a></li>
<li><a href="#org6a4abc4">13.7. nix-mode for nixlang</a></li>
<li><a href="#org4ece686">13.8. rust-mode</a>
<ul>
<li><a href="#orgc577c3e">13.8.1. rustic</a></li>
</ul>
</li>
<li><a href="#orgebd57e9">13.9. init-lang.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org51f04aa">14. init-blog.el</a>
<ul>
<li><a href="#orga393036">14.1. init-blog.el 文件头</a></li>
<li><a href="#orga5ded78">14.2. ox-hugo</a>
<ul>
<li><a href="#org5302b33">14.2.1. 增加文章创建功能</a></li>
</ul>
</li>
<li><a href="#orgf436e29">14.3. init-blog.el 文件尾</a></li>
</ul>
</li>
<li><a href="#org3e6e710">15. init-ai.el</a>
<ul>
<li><a href="#org96e4a7f">15.1. init-ai.el 文件头</a></li>
<li><a href="#org6aeb32e">15.2. copilot</a></li>
<li><a href="#orgb456694">15.3. copilot-chat</a></li>
<li><a href="#orgbd47f40">15.4. init-ai.el 文件尾</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<div id="outline-container-orgcb9c6f8" class="outline-2">
<h2 id="orgcb9c6f8"><span class="section-number-2">1.</span> 前言</h2>
<div class="outline-text-2" id="text-1">
<p>
这是我自己的 emacs 配置！
</p>
</div>
</div>
<div id="outline-container-orgd8ea9be" class="outline-2">
<h2 id="orgd8ea9be"><span class="section-number-2">2.</span> early-init.el</h2>
<div class="outline-text-2" id="text-2">
<p>
emacs 刚启动时执行的配置文件,此时还未加载主配置文件
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">early-init.el --- Emacs pre-initialization config -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#22403;&#22334;&#22238;&#25910;&#21442;&#25968;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> gc-cons-threshold most-positive-fixnum<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> gc-cons-percentage 0.6<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#19981;&#35201;&#22312; gc &#26399;&#38388;&#21387;&#32553;&#23383;&#20307;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> inhibit-compacting-font-caches t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#26174;&#31034;&#30495;&#23454;&#30340;&#36335;&#24452;&#65292;&#32780;&#19981;&#26159;&#31526;&#21495;&#38142;&#25509;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> find-file-visit-truename t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#27490;&#21551;&#21160;&#30340;&#39318;&#39029;&#23637;&#31034;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> package-enable-at-startup nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#27490;&#33258;&#21160;&#32553;&#25918;&#31383;&#21475;&#20808;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> frame-inhibit-implied-resize t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#27490;&#33756;&#21333;&#26639;&#12289;&#24037;&#20855;&#26639;&#12289;&#28378;&#21160;&#26465;&#27169;&#24335;&#65292;&#31105;&#27490;&#21551;&#21160;&#23631;&#24149;&#21644;&#25991;&#20214;&#23545;&#35805;&#26694;</span>
<span class="org-rainbow-delimiters-depth-1">(</span>menu-bar-mode -1<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>tool-bar-mode -1<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>scroll-bar-mode -1<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> use-file-dialog nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#27492;&#38454;&#27573;&#19981;&#32534;&#35793;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> comp-deferred-compilation nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#26174;&#31034;&#32534;&#35793;&#35686;&#21578;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> native-comp-async-report-warnings-errors nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>cd <span class="org-string">"~"</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span>setenv <span class="org-string">"LSP_USE_PLISTS"</span> <span class="org-string">"true"</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Increase the amount of data which Emacs reads from the process</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> read-process-output-max <span class="org-rainbow-delimiters-depth-2">(</span>* 1024 1024<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">; </span><span class="org-comment">custom.el</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> custom-file <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"custom.el"</span> user-emacs-directory<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>file-exists-p custom-file<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>load custom-file<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">early-init</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">early-init.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcd106a1" class="outline-2">
<h2 id="orgcd106a1"><span class="section-number-2">3.</span> init.el</h2>
<div class="outline-text-2" id="text-3">
<p>
<code>init.el</code> 是 emacs 的主配置文件
</p>
</div>
<div id="outline-container-org536acbc" class="outline-3">
<h3 id="org536acbc"><span class="section-number-3">3.1.</span> init.el 文件头</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init.el --- The main init entry for Emacs -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7ef6558" class="outline-3">
<h3 id="org7ef6558"><span class="section-number-3">3.2.</span> 使用 <code>elpaca</code> 作为包管理器</h3>
<div class="outline-text-3" id="text-3-2">
<p>
<a href="https://github.com/progfolio/elpaca">elpaca</a> 是一款更加现代化的 GUI Emacs 包管理器，它拥有着相较于 straight.el
</p>

<p>
以下源自官方的安装指南：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">elpaca-installer-version</span> 0.7<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">elpaca-directory</span> <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"elpaca/"</span> user-emacs-directory<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">elpaca-builds-directory</span> <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"builds/"</span> elpaca-directory<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">elpaca-repos-directory</span> <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"repos/"</span> elpaca-directory<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">elpaca-order</span>
  '<span class="org-rainbow-delimiters-depth-2">(</span>elpaca
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:repo</span> <span class="org-string">"https://github.com/progfolio/elpaca.git"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:ref</span> nil
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:depth</span> 1
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:files</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-builtin">:defaults</span> <span class="org-string">"elpaca-test.el"</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-builtin">:exclude</span> <span class="org-string">"extensions"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:build</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-builtin">:not</span> elpaca--activate-package<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>repo <span class="org-rainbow-delimiters-depth-4">(</span>expand-file-name <span class="org-string">"elpaca/"</span> elpaca-repos-directory<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span>build <span class="org-rainbow-delimiters-depth-4">(</span>expand-file-name <span class="org-string">"elpaca/"</span> elpaca-builds-directory<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span>order <span class="org-rainbow-delimiters-depth-4">(</span>cdr elpaca-order<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span>default-directory repo<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list
  <span class="org-indent-bars-1"> </span>'load-path
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-4">(</span>file-exists-p build<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>build
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>repo<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">unless</span> <span class="org-rainbow-delimiters-depth-3">(</span>file-exists-p repo<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>make-directory repo t<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-4">(</span>&lt; emacs-major-version 28<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">require</span> '<span class="org-constant">subr-x</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">condition-case-unless-debug</span> err
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">if-let</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-rainbow-delimiters-depth-6">(</span>buffer <span class="org-rainbow-delimiters-depth-7">(</span>pop-to-buffer-same-window <span class="org-string">"*elpaca-bootstrap*"</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>zerop
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span><span class="org-rainbow-delimiters-depth-8">(</span>apply #'call-process
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> `<span class="org-rainbow-delimiters-depth-9">(</span><span class="org-string">"git"</span> nil ,buffer t <span class="org-string">"clone"</span> ,@
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when-let</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>depth <span class="org-rainbow-delimiters-depth-4">(</span>plist-get order <span class="org-builtin">:depth</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-rainbow-delimiters-depth-2">(</span>list
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span><span class="org-rainbow-delimiters-depth-3">(</span>format <span class="org-string">"--depth=%d"</span> depth<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span><span class="org-string">"--no-single-branch"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> ,<span class="org-rainbow-delimiters-depth-1">(</span>plist-get order <span class="org-builtin">:repo</span><span class="org-rainbow-delimiters-depth-1">)</span> ,repo<span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>zerop
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span><span class="org-rainbow-delimiters-depth-8">(</span>call-process <span class="org-string">"git"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    nil
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    buffer
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    t
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"checkout"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-rainbow-delimiters-depth-9">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-1">(</span>plist-get order <span class="org-builtin">:ref</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-string">"--"</span><span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span>emacs <span class="org-rainbow-delimiters-depth-7">(</span>concat invocation-directory invocation-name<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>zerop
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span><span class="org-rainbow-delimiters-depth-8">(</span>call-process emacs
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    nil
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    buffer
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    nil
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"-Q"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"-L"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"."</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"--batch"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"--eval"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>    <span class="org-string">"(byte-recompile-directory \".\" 0 'force)"</span><span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span><span class="org-keyword">require</span> '<span class="org-constant">elpaca</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>elpaca-generate-autoloads <span class="org-string">"elpaca"</span> repo<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-6">(</span>message <span class="org-string">"%s"</span> <span class="org-rainbow-delimiters-depth-7">(</span>buffer-string<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-6">(</span>kill-buffer buffer<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-warning">error</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-string">"%s"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">with-current-buffer</span> buffer
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span><span class="org-rainbow-delimiters-depth-7">(</span>buffer-string<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span><span class="org-warning">error</span><span class="org-rainbow-delimiters-depth-5">)</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-warning">warn</span> <span class="org-string">"%s"</span> err<span class="org-rainbow-delimiters-depth-5">)</span> <span class="org-rainbow-delimiters-depth-5">(</span>delete-directory repo 'recursive<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">unless</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">require</span> '<span class="org-constant">elpaca-autoloads</span> nil t<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">require</span> '<span class="org-constant">elpaca</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>elpaca-generate-autoloads <span class="org-string">"elpaca"</span> repo<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>load <span class="org-string">"./elpaca-autoloads"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'after-init-hook #'elpaca-process-queues<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">elpaca</span> `<span class="org-rainbow-delimiters-depth-2">(</span>,@elpaca-order<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">; </span><span class="org-comment">&#24403; windows &#24179;&#21488;&#26102;&#65292;&#20851;&#38381;&#36719;&#38142;&#25509;&#65292;&#21516;&#26102;&#38480;&#21046; elpaca &#30340;&#24182;&#21457;&#25968;&#30446;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> elpaca-queue-limit 10<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>elpaca-no-symlink-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org672dbe1" class="outline-3">
<h3 id="org672dbe1"><span class="section-number-3">3.3.</span> 为 <code>elpaca</code> 安装 <code>use-package</code></h3>
<div class="outline-text-3" id="text-3-3">
<p>
设置 <code>use-package</code> 自动安装包，然后启用 <code>elpaca-use-package-mode</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">elpaca</span>
  <span class="org-indent-bars-1"> </span> elpaca-use-package
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable use-package :ensure support for Elpaca.</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>elpaca-use-package-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
使得 <code>use-package</code> 默认自动安装所有包
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> use-package-always-ensure t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgafef8ab" class="outline-3">
<h3 id="orgafef8ab"><span class="section-number-3">3.4.</span> 定义几个变量</h3>
<div class="outline-text-3" id="text-3-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">cabins--os-win</span> <span class="org-rainbow-delimiters-depth-2">(</span>memq system-type '<span class="org-rainbow-delimiters-depth-3">(</span>ms-dos windows-nt cygwin<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defvar</span> <span class="org-variable-name">cabins--os-mac</span> <span class="org-rainbow-delimiters-depth-2">(</span>eq system-type 'darwin<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">and</span> cabins--os-win
  <span class="org-indent-bars-1"> </span>        <span class="org-rainbow-delimiters-depth-3">(</span>boundp 'w32-get-true-file-attributes<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> w32-get-true-file-attributes nil
  <span class="org-indent-bars-1"> </span>     w32-pipe-read-delay 0
  <span class="org-indent-bars-1"> </span>     w32-pipe-buffer-size <span class="org-rainbow-delimiters-depth-3">(</span>* 64 1024<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
   
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> text-quoting-style 'straight<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org10041a8" class="outline-3">
<h3 id="org10041a8"><span class="section-number-3">3.5.</span> 加载其他的模块</h3>
<div class="outline-text-3" id="text-3-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#23558;lisp&#30446;&#24405;&#25918;&#21040;&#21152;&#36733;&#36335;&#24452;&#30340;&#21069;&#38754;&#20197;&#21152;&#24555;&#21551;&#21160;&#36895;&#24230;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>dir <span class="org-rainbow-delimiters-depth-4">(</span>locate-user-emacs-file <span class="org-string">"lisp"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'load-path <span class="org-rainbow-delimiters-depth-3">(</span>file-name-as-directory dir<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#21152;&#36733;&#21508;&#27169;&#22359;&#21270;&#37197;&#32622;</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#19981;&#35201;&#22312;`</span><span class="org-comment"><span class="org-constant">*message*</span></span><span class="org-comment">'&#32531;&#20914;&#21306;&#26174;&#31034;&#21152;&#36733;&#27169;&#22359;&#21270;&#37197;&#32622;&#30340;&#20449;&#24687;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">with-temp-message</span> <span class="org-string">""</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-ui</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">UI&#20132;&#20114;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-edit</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#32534;&#36753;&#34892;&#20026;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-md</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">markdown &#25903;&#25345;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-org</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">org &#30456;&#20851;&#35774;&#32622;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-completion</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#34917;&#20840;&#31995;&#32479;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-dev</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#29256;&#26412;&#31649;&#29702;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-tools</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">tools</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-lsp</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">lsp &#25903;&#25345;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-treesitter</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">treesitter &#25903;&#25345;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-lang</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">lang &#25903;&#25345;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-blog</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">blog &#25903;&#25345;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">init-ai</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">ai &#25903;&#25345;</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orged3b2ee" class="outline-3">
<h3 id="orged3b2ee"><span class="section-number-3">3.6.</span> init.el 文件尾</h3>
<div class="outline-text-3" id="text-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org326e38d" class="outline-2">
<h2 id="org326e38d"><span class="section-number-2">4.</span> init-ui.el</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org345c169" class="outline-3">
<h3 id="org345c169"><span class="section-number-3">4.1.</span> init-ui.el 文件头</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-ui.el --- UI settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd956bda" class="outline-3">
<h3 id="orgd956bda"><span class="section-number-3">4.2.</span> 字体设置</h3>
<div class="outline-text-3" id="text-4-2">
<p>
<a href="https://archive.casouri.cc/note/2019/emacs-%E5%AD%97%E4%BD%93%E4%B8%8E%E5%AD%97%E4%BD%93%E9%9B%86/index.html">emacs 字体与字符集</a>，该文章介绍了 emacs 中的字体和字符集的设置。
</p>

<p>
字体配置，采取定义字符串列表的方式，会优先使用查找到的字体
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> my-default-fonts '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Maple Mono SC NF"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> my-emoji-fonts '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Noto Color Emoji"</span>
  <span class="org-indent-bars-1"> </span>                    <span class="org-string">"Segoe UI Emoji"</span>
  <span class="org-indent-bars-1"> </span>                    <span class="org-string">"Symbola"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> my-bmp-fonts '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Segoe UI Symbol"</span>
  <span class="org-indent-bars-1"> </span>                  <span class="org-string">"Symbola"</span> <span class="org-string">"Symbol"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> my-cjk-fonts '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"&#38686;&#40540;&#25991;&#26999;&#31561;&#23485;"</span>
  <span class="org-indent-bars-1"> </span>                  <span class="org-string">"&#24494;&#36719;&#38597;&#40657; CN"</span>
  <span class="org-indent-bars-1"> </span>                  <span class="org-string">"Microsoft Yahei UI"</span>
  <span class="org-indent-bars-1"> </span>                  <span class="org-string">"Microsoft Ya"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
定义一个函数用于查找字体是否存在
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">font-installed-p</span> <span class="org-rainbow-delimiters-depth-2">(</span>font-name<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"Check if font with FONT-NAME is available."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>find-font <span class="org-rainbow-delimiters-depth-3">(</span>font-spec <span class="org-builtin">:name</span> font-name<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
设置全局默认通用的字体
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">cl-loop</span> for font in my-default-fonts
  <span class="org-indent-bars-1"> </span>        when <span class="org-rainbow-delimiters-depth-3">(</span>font-installed-p font<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>        return <span class="org-rainbow-delimiters-depth-3">(</span>set-face-attribute 'default nil <span class="org-builtin">:font</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                         <span class="org-rainbow-delimiters-depth-4">(</span>font-spec <span class="org-builtin">:family</span> font <span class="org-builtin">:weight</span> 'normal <span class="org-builtin">:slant</span> 'normal <span class="org-builtin">:size</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span>          <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">cond</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-7">)</span> 14.0<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-indent-bars-20"> </span> <span class="org-indent-bars-21"> </span> <span class="org-indent-bars-22"> </span> <span class="org-indent-bars-23"> </span> <span class="org-indent-bars-24"> </span> <span class="org-indent-bars-25"> </span>    <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-7">)</span> 12.5<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
设置 emoji 字体
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">cl-loop</span> for font in my-emoji-fonts
  <span class="org-indent-bars-1"> </span>        when <span class="org-rainbow-delimiters-depth-3">(</span>font-installed-p font<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>        return <span class="org-rainbow-delimiters-depth-3">(</span>set-fontset-font t 'emoji
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                       <span class="org-rainbow-delimiters-depth-4">(</span>font-spec <span class="org-builtin">:family</span> font
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span>          <span class="org-builtin">:size</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">cond</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-7">)</span> 16.5<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-indent-bars-20"> </span> <span class="org-indent-bars-21"> </span> <span class="org-indent-bars-22"> </span> <span class="org-indent-bars-23"> </span> <span class="org-indent-bars-24"> </span>          <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-7">)</span> 15.0<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                       nil 'prepend<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
设置 unicode-bmp 字体
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span>  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">cl-loop</span> for font in my-bmp-fonts
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>      when <span class="org-rainbow-delimiters-depth-3">(</span>font-installed-p font<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>      return <span class="org-rainbow-delimiters-depth-3">(</span>set-fontset-font t 'unicode-bmp
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span>                       <span class="org-rainbow-delimiters-depth-4">(</span>font-spec <span class="org-builtin">:family</span> font
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span>          <span class="org-builtin">:size</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">cond</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-7">)</span> 16.5<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-indent-bars-20"> </span> <span class="org-indent-bars-21"> </span> <span class="org-indent-bars-22"> </span> <span class="org-indent-bars-23"> </span> <span class="org-indent-bars-24"> </span> <span class="org-indent-bars-25"> </span>          <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-7">)</span> 15.0<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span>                       nil 'prepend<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
设置中文字体
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">cl-loop</span> for font in my-cjk-fonts
  <span class="org-indent-bars-1"> </span>        when <span class="org-rainbow-delimiters-depth-3">(</span>font-installed-p font<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>        return <span class="org-rainbow-delimiters-depth-3">(</span>set-fontset-font t 'han
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                       <span class="org-rainbow-delimiters-depth-4">(</span>font-spec <span class="org-builtin">:name</span> font
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span>          <span class="org-builtin">:weight</span> 'normal
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span>          <span class="org-builtin">:slant</span> 'normal
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span>          <span class="org-builtin">:size</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">cond</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-7">)</span> 16.5<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-indent-bars-20"> </span> <span class="org-indent-bars-21"> </span> <span class="org-indent-bars-22"> </span> <span class="org-indent-bars-23"> </span> <span class="org-indent-bars-24"> </span>          <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-rainbow-delimiters-depth-7">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-7">)</span> 15.0<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd4bf359" class="outline-3">
<h3 id="orgd4bf359"><span class="section-number-3">4.3.</span> ef theme</h3>
<div class="outline-text-3" id="text-4-3">
<p>
<a href="https://protesilaos.com/emacs/ef-themes">ef themes</a> 是我非常喜欢的一个主题包。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">modus-themes</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org118a685" class="outline-3">
<h3 id="org118a685"><span class="section-number-3">4.4.</span> auto-dark</h3>
<div class="outline-text-3" id="text-4-4">
<p>
自动调节为黑暗模式
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">auto-dark</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-dark-dark-theme 'modus-vivendi <span class="org-string">"auto dark theme"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-dark-light-theme 'modus-operandi <span class="org-string">"auto light theme"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-dark-mode t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc34cb43" class="outline-3">
<h3 id="orgc34cb43"><span class="section-number-3">4.5.</span> 其他UI零散设置项</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>pixel-scroll-precision-mode 1<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#29992;&#19968;&#20123;GUI&#29305;&#24615;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> use-dialog-box nil<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#40736;&#26631;&#25805;&#20316;&#19981;&#20351;&#29992;&#23545;&#35805;&#26694;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> inhibit-default-init t<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#21152;&#36733; `</span><span class="org-comment"><span class="org-constant">default</span></span><span class="org-comment">' &#24211;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> inhibit-startup-screen t<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#21152;&#36733;&#21551;&#21160;&#30011;&#38754;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> inhibit-startup-message t<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#21152;&#36733;&#21551;&#21160;&#28040;&#24687;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> inhibit-startup-buffer-menu t<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#26174;&#31034;&#32531;&#20914;&#21306;&#21015;&#34920;</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#33609;&#31295;&#32531;&#20914;&#21306;&#40664;&#35748;&#25991;&#23383;&#35774;&#32622;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> initial-scratch-message
  <span class="org-indent-bars-1"> </span>   <span class="org-rainbow-delimiters-depth-2">(</span>concat
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-string">";; Happy hacking, "</span> <span class="org-rainbow-delimiters-depth-3">(</span>capitalize user-login-name<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-string">" - Emacs &#9829; you!\n\n"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
       
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#32531;&#20914;&#21306;&#30340;&#25991;&#23383;&#26041;&#21521;&#20026;&#20174;&#24038;&#21040;&#21491;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> bidi-paragraph-direction 'left-to-right<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#27490;&#20351;&#29992;&#21452;&#21521;&#25324;&#21495;&#31639;&#27861;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> bidi-inhibit-bpa t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#33258;&#21160;&#25240;&#34892;&#23485;&#24230;&#20026;80&#20010;&#23383;&#31526;&#65292;&#40664;&#35748;&#20540;&#20026;70</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq-default</span> fill-column 80<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#22823;&#25991;&#20214;&#38408;&#20540;&#20026;100MB&#65292;&#40664;&#35748;10MB</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> large-file-warning-threshold 100000000<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#20197;16&#36827;&#21046;&#26174;&#31034;&#23383;&#33410;&#25968;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> display-raw-bytes-as-hex t<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#26377;&#36755;&#20837;&#26102;&#31105;&#27490; `</span><span class="org-comment"><span class="org-constant">fontification</span></span><span class="org-comment">' &#30456;&#20851;&#30340;&#20989;&#25968;&#38057;&#23376;&#65292;&#33021;&#35753;&#28378;&#21160;&#26356;&#39034;&#28369;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> redisplay-skip-fontification-on-input t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#27490;&#21709;&#38083;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> ring-bell-function 'ignore<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#31105;&#27490;&#38378;&#28865;&#20809;&#26631;</span>
<span class="org-rainbow-delimiters-depth-1">(</span>blink-cursor-mode -1<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#20809;&#26631;&#22788;&#32780;&#38750;&#40736;&#26631;&#25152;&#22312;&#20301;&#32622;&#31896;&#36148;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> mouse-yank-at-point t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#25335;&#36125;&#31896;&#36148;&#35774;&#32622;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> select-enable-primary nil<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#36873;&#25321;&#25991;&#23383;&#26102;&#19981;&#25335;&#36125;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> select-enable-clipboard t<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#25335;&#36125;&#26102;&#20351;&#29992;&#21098;&#36148;&#26495;</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#40736;&#26631;&#28378;&#21160;&#35774;&#32622;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq scroll-step 2)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq scroll-margin 2)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq hscroll-step 2)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq hscroll-margin 2)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq scroll-conservatively 101)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq scroll-up-aggressively 0.01)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq scroll-down-aggressively 0.01)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-indent-bars-13"> </span> <span class="org-indent-bars-14"> </span> <span class="org-indent-bars-15"> </span> <span class="org-indent-bars-16"> </span> <span class="org-indent-bars-17"> </span> <span class="org-indent-bars-18"> </span> <span class="org-indent-bars-19"> </span> <span class="org-comment-delimiter">;</span><span class="org-comment">(setq scroll-preserve-screen-position 'always)</span>
                                       
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#23545;&#20110;&#39640;&#30340;&#34892;&#31105;&#27490;&#33258;&#21160;&#22402;&#30452;&#28378;&#21160;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> auto-window-vscroll nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#26032;&#20998;&#23631;&#25171;&#24320;&#30340;&#20301;&#32622;&#30340;&#38408;&#20540;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> split-width-threshold <span class="org-rainbow-delimiters-depth-2">(</span>assoc-default 'width default-frame-alist<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> split-height-threshold nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">TAB&#38190;&#35774;&#32622;&#65292;&#22312;Emacs&#37324;&#19981;&#20351;&#29992;TAB&#38190;&#65292;&#25152;&#26377;&#30340;TAB&#40664;&#35748;&#20026;4&#20010;&#31354;&#26684;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq-default</span> indent-tabs-mode nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq-default</span> tab-width 4<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">yes&#25110;no&#25552;&#31034;&#35774;&#32622;&#65292;&#36890;&#36807;&#19979;&#38754;&#36825;&#20010;&#20989;&#25968;&#35774;&#32622;&#24403;&#32531;&#20914;&#21306;&#21517;&#23383;&#21305;&#37197;&#21040;&#39044;&#35774;&#30340;&#23383;&#31526;&#20018;&#26102;&#33258;&#21160;&#22238;&#31572;yes</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> original-y-or-n-p 'y-or-n-p<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defalias</span> '<span class="org-function-name">original-y-or-n-p</span> <span class="org-rainbow-delimiters-depth-2">(</span>symbol-function 'y-or-n-p<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">default-yes-sometimes</span> <span class="org-rainbow-delimiters-depth-2">(</span>prompt<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"automatically say y when buffer name match following string"</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"has a running process"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"does not exist; create"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"modified; kill anyway"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Delete buffer using"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Kill buffer of"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"still connected.  Kill it?"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Shutdown the client's kernel"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"kill them and exit anyway"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Revert buffer from file"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Kill Dired buffer of"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"delete buffer using"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Kill all pass entry"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"for all cursors"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-4">(</span>string-match <span class="org-string">"Do you want edit the entry"</span> prompt<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>   t
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>original-y-or-n-p prompt<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defalias</span> '<span class="org-function-name">yes-or-no-p</span> 'default-yes-sometimes<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defalias</span> '<span class="org-function-name">y-or-n-p</span> 'default-yes-sometimes<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#21098;&#36148;&#26495;&#21382;&#21490;&#38271;&#24230;300&#65292;&#40664;&#35748;&#20026;60</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> kill-ring-max 300<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#21098;&#36148;&#26495;&#37324;&#19981;&#23384;&#20648;&#37325;&#22797;&#20869;&#23481;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> kill-do-not-save-duplicates t<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#20301;&#32622;&#35760;&#24405;&#38271;&#24230;&#20026;6&#65292;&#40664;&#35748;&#20026;16</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#21487;&#20197;&#20351;&#29992; `</span><span class="org-comment"><span class="org-constant">counsel-mark-ring</span></span><span class="org-comment">' or `</span><span class="org-comment"><span class="org-constant">consult-mark</span></span><span class="org-comment">' (C-x j) &#26469;&#35775;&#38382;&#20809;&#26631;&#20301;&#32622;&#35760;&#24405;</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#20351;&#29992; C-x C-SPC &#25191;&#34892; `</span><span class="org-comment"><span class="org-constant">pop-global-mark</span></span><span class="org-comment">' &#30452;&#25509;&#36339;&#36716;&#21040;&#19978;&#19968;&#20010;&#20840;&#23616;&#20301;&#32622;&#22788;</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">&#20351;&#29992; C-u C-SPC &#36339;&#36716;&#21040;&#26412;&#22320;&#20301;&#32622;&#22788;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> mark-ring-max 6<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> global-mark-ring-max 6<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622; emacs-lisp &#30340;&#38480;&#21046;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> max-lisp-eval-depth 10000<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#40664;&#35748;&#20540;&#20026; 800</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> max-specpdl-size 10000<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#40664;&#35748;&#20540;&#20026; 1600</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#21551;&#29992; `</span><span class="org-comment"><span class="org-constant">list-timers</span></span><span class="org-comment">', `</span><span class="org-comment"><span class="org-constant">list-threads</span></span><span class="org-comment">' &#36825;&#20004;&#20010;&#21629;&#20196;</span>
<span class="org-rainbow-delimiters-depth-1">(</span>put 'list-timers 'disabled nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>put 'list-threads 'disabled nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#21629;&#20196;&#34892;&#37324;&#25903;&#25345;&#40736;&#26631;</span>
<span class="org-rainbow-delimiters-depth-1">(</span>xterm-mouse-mode 1<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#27169;&#24335;&#26639;&#19978;&#26174;&#31034;&#24403;&#21069;&#20809;&#26631;&#30340;&#21015;&#21495;</span>
<span class="org-rainbow-delimiters-depth-1">(</span>column-number-mode t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdecba9e" class="outline-3">
<h3 id="orgdecba9e"><span class="section-number-3">4.6.</span> 编码设置</h3>
<div class="outline-text-3" id="text-4-6">
<p>
统一使用 UTF-8 编码。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-comment-delimiter">;;</span><span class="org-comment">use unicode everywhere</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-4">(</span>fboundp 'set-charset-priority<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>set-charset-priority 'unicode<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>prefer-coding-system 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>modify-coding-system-alist 'process <span class="org-string">"*"</span> 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-buffer-file-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-file-name-coding-system 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-default-coding-systems 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-keyboard-coding-system 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-terminal-coding-system 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-language-environment <span class="org-string">"UTF-8"</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> locale-coding-system 'utf-8-unix<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> default-process-coding-system '<span class="org-rainbow-delimiters-depth-4">(</span>utf-8-unix . utf-8-unix<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
     
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-comment-delimiter">;;</span><span class="org-comment">windows&#27809;&#26377;&#21551;&#29992;unicode&#26102;&#65292;&#20013;&#25991;&#35821;&#35328;&#26159;gbk&#32534;&#30721;gb18030&#20250;&#23548;&#33268;&#26377;&#20123;&#20013;&#25991;&#23383;&#31526;&#25214;&#19981;&#21040;&#23383;&#20307;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-comment-delimiter">;; </span><span class="org-comment">&#31995;&#32479;&#22914;&#26524;&#24320;&#21551;&#20102; unicode &#25903;&#25345;&#65292;&#37027;&#20040;&#23601;&#19981;&#29992;&#35774;&#32622;&#36825;&#20010;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>                                   <span class="org-comment-delimiter">;</span><span class="org-comment">(when (eq system-type 'windows-nt)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>                                   <span class="org-comment-delimiter">;  </span><span class="org-comment">(setq locale-coding-system 'chinese-gbk))</span>
     
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-comment-delimiter">;;</span><span class="org-comment">The clipboard on windows dose not play well with utf8</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">unless</span> <span class="org-rainbow-delimiters-depth-4">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>set-clipboard-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>set-selection-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
       
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-comment-delimiter">;; </span><span class="org-comment">&#33521;&#25991;&#26085;&#26399;&#65292;&#20250;&#24433;&#21709;&#26085;&#26399;&#26684;&#24335;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> system-time-locale <span class="org-string">"C"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> locale-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-terminal-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-keyboard-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-selection-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-default-coding-systems 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-language-environment 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-clipboard-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-file-name-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>set-buffer-file-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>prefer-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>modify-coding-system-alist 'process <span class="org-string">"*"</span> 'utf-8<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-4">(</span>display-graphic-p<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">setq</span> x-select-request-type '<span class="org-rainbow-delimiters-depth-5">(</span>UTF8_STRING COMPOUND_TEXT TEXT STRING<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6c9e0c3" class="outline-3">
<h3 id="org6c9e0c3"><span class="section-number-3">4.7.</span> doom-modeline插件</h3>
<div class="outline-text-3" id="text-4-7">
<p>
<a href="https://github.com/seagle0128/doom-modeline">doom-modeline</a> 是一个模式栏美化插件。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 doom-modeline
 <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-mode<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-builtin">:custom</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-hub t<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-buffer-file-name-style 'file-name<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-total-line-number t<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-irc nil<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-mu4e nil<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-gnus nil<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-github nil<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-modeline-enable-word-count t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org91865eb" class="outline-3">
<h3 id="org91865eb"><span class="section-number-3">4.8.</span> nerd-font</h3>
<div class="outline-text-3" id="text-4-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">nerd-icons</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>nerd-icons-font-family <span class="org-string">"Maple Mono SC NF"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:defer</span> t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf25988d" class="outline-3">
<h3 id="orgf25988d"><span class="section-number-3">4.9.</span> diredfl</h3>
<div class="outline-text-3" id="text-4-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">diredfl</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>dired-mode . diredfl-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org224359b" class="outline-3">
<h3 id="org224359b"><span class="section-number-3">4.10.</span> dired 配置</h3>
<div class="outline-text-3" id="text-4-10">
<p>
有意思的是，这个是给 ls 传递参数，在 windows 下居然也可以正常工作。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> dired-listing-switches <span class="org-string">"-alh --group-directories-first"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2938ff2" class="outline-3">
<h3 id="org2938ff2"><span class="section-number-3">4.11.</span> treemacs</h3>
<div class="outline-text-3" id="text-4-11">
<p>
更牛逼的文件管理器
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">treemacs</span>
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">with-eval-after-load</span> 'winum
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>define-key winum-keymap <span class="org-rainbow-delimiters-depth-4">(</span>kbd <span class="org-string">"M-0"</span><span class="org-rainbow-delimiters-depth-4">)</span> #'treemacs-select-window<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>treemacs-default-visit-action 'treemacs-visit-node-close-treemacs <span class="org-string">"close treemacs after opening file"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:bind</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:map</span> global-map
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-0"</span>       . treemacs-select-window<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t 1"</span>   . treemacs-delete-other-windows<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t t"</span>   . treemacs<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t d"</span>   . treemacs-select-directory<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t B"</span>   . treemacs-bookmark<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t C-t"</span> . treemacs-find-file<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t M-t"</span> . treemacs-find-tag<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org6118614" class="outline-4">
<h4 id="org6118614"><span class="section-number-4">4.11.1.</span> treemacs-icons-dired</h4>
<div class="outline-text-4" id="text-4-11-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">treemacs-icons-dired</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>dired-mode . treemacs-icons-dired-enable-once<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:ensure</span> t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org326a168" class="outline-4">
<h4 id="org326a168"><span class="section-number-4">4.11.2.</span> treemacs-projectile</h4>
<div class="outline-text-4" id="text-4-11-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">treemacs-projectile</span>
  <span class="org-builtin">:after</span> <span class="org-rainbow-delimiters-depth-2">(</span>treemacs projectile<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6f93cb7" class="outline-3">
<h3 id="org6f93cb7"><span class="section-number-3">4.12.</span> init-ui.el 文件尾</h3>
<div class="outline-text-3" id="text-4-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-ui</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-ui.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org37145b7" class="outline-2">
<h2 id="org37145b7"><span class="section-number-2">5.</span> init-edit.el</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgc6763b2" class="outline-3">
<h3 id="orgc6763b2"><span class="section-number-3">5.1.</span> init-edit.el 文件头</h3>
<div class="outline-text-3" id="text-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-edit.el --- Editing settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgde412ea" class="outline-3">
<h3 id="orgde412ea"><span class="section-number-3">5.2.</span> 行号设置</h3>
<div class="outline-text-3" id="text-5-2">
<p>
在 prog-mode 下开启行号，但是在 org-mode 下不开启行号
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span>add-hook 'prog-mode-hook
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">unless</span> <span class="org-rainbow-delimiters-depth-4">(</span>eq major-mode 'org-mode<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>display-line-numbers-mode 1<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2c3a3ae" class="outline-3">
<h3 id="org2c3a3ae"><span class="section-number-3">5.3.</span> Emacs备份设置</h3>
<div class="outline-text-3" id="text-5-3">
<p>
不使用Emacs的自动备份设置。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> make-backup-files nil<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#33258;&#21160;&#22791;&#20221;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">setq</span> auto-save-default nil<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#19981;&#20351;&#29992;Emacs&#33258;&#24102;&#30340;&#33258;&#21160;&#20445;&#23384;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org31a2aba" class="outline-3">
<h3 id="org31a2aba"><span class="section-number-3">5.4.</span> 解除一些不常用的快捷键</h3>
<div class="outline-text-3" id="text-5-4">
<p>
将一些不常用的快捷键解除，防止误操作。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">&#35299;&#38500;&#19981;&#24120;&#29992;&#30340;&#24555;&#25463;&#38190;&#23450;&#20041;</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-z"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"s-q"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"M-z"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"M-m"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-x C-z"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">[</span>mouse-2<span class="org-rainbow-delimiters-depth-2">]</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2bbf436" class="outline-3">
<h3 id="org2bbf436"><span class="section-number-3">5.5.</span> 自动重载设置</h3>
<div class="outline-text-3" id="text-5-5">
<p>
当我们的文件发生了改变后，我们希望Emacs里打开的永远是最新的文件，这个时候，我们需要对自动重载进行设置，让我们的Emacs在文件发生改变的时候自动重载文件。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
  autorevert
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>global-auto-revert-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-revert-interval 10<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-revert-avoid-polling t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-revert-verbose nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-revert-remote-files t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>auto-revert-check-vc-info t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>global-auto-revert-non-file-buffers t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org626a552" class="outline-3">
<h3 id="org626a552"><span class="section-number-3">5.6.</span> indent bar</h3>
<div class="outline-text-3" id="text-5-6">
<p>
使用 <a href="https://github.com/jdtsmith/indent-bars">indent-bars</a> 尝试进行快速的缩进
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">indent-bars</span>
  <span class="org-builtin">:ensure</span> <span class="org-rainbow-delimiters-depth-2">(</span>indent-bars <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"jdtsmith/indent-bars"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>prog-mode . indent-bars-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbe36654" class="outline-3">
<h3 id="orgbe36654"><span class="section-number-3">5.7.</span> symbol-overlay</h3>
<div class="outline-text-3" id="text-5-7">
<p>
更高效地符号高亮插件
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">symbol-overlay</span> <span class="org-builtin">:defer</span> t <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>prog-mode . symbol-overlay-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org83f1596" class="outline-3">
<h3 id="org83f1596"><span class="section-number-3">5.8.</span> flycheck</h3>
<div class="outline-text-3" id="text-5-8">
<p>
<a href="https://github.com/flycheck/flycheck">flycheck</a>，属于是一个广泛使用的语法检查包！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">flycheck</span> <span class="org-builtin">:defer</span> t <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>global-flycheck-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgda247d7" class="outline-3">
<h3 id="orgda247d7"><span class="section-number-3">5.9.</span> 彩虹括号匹配</h3>
<div class="outline-text-3" id="text-5-9">
<p>
<a href="https://github.com/Fanael/rainbow-delimiters">rainbow-delimiters</a> 插件将多彩显示括号等分隔符。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 rainbow-delimiters
 <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>prog-mode . rainbow-delimiters-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3a3d5f6" class="outline-3">
<h3 id="org3a3d5f6"><span class="section-number-3">5.10.</span> savehist 保存 <code>minibuffer</code> 历史记录</h3>
<div class="outline-text-3" id="text-5-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">savehist</span> <span class="org-builtin">:ensure</span> nil <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>savehist-mode<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-builtin">:defer</span> t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org113f63d" class="outline-3">
<h3 id="org113f63d"><span class="section-number-3">5.11.</span> <code>save-place</code> 记住关闭文件是光标位置</h3>
<div class="outline-text-3" id="text-5-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">&#33258;&#21160;&#35760;&#20303;&#27599;&#20010;&#25991;&#20214;&#30340;&#26368;&#21518;&#19968;&#27425;&#35775;&#38382;&#30340;&#20809;&#26631;&#20301;&#32622;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">saveplace</span> <span class="org-builtin">:ensure</span> nil <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>save-place-mode<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-builtin">:defer</span> t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org489132a" class="outline-3">
<h3 id="org489132a"><span class="section-number-3">5.12.</span> <code>recentf</code> 记住最近打开文件的历史记录</h3>
<div class="outline-text-3" id="text-5-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
  recentf
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>recentf-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>recentf-max-saved-items 300<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>recentf-exclude
  <span class="org-indent-bars-1"> </span>'<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"treemacs-persist"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">&#25490;&#38500; ~/.emacs.d/ &#30446;&#24405;&#19979;&#38500;&#20102; readme.org &#21644; config.org &#20043;&#22806;&#30340;&#25152;&#26377;&#25991;&#20214;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-5">(</span>file<span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">and</span> <span class="org-rainbow-delimiters-depth-6">(</span>string-match-p <span class="org-string">"^~/.emacs.d/"</span> file<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>   <span class="org-rainbow-delimiters-depth-6">(</span>not <span class="org-rainbow-delimiters-depth-7">(</span>string-match-p <span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(?:</span></span><span class="org-string">[Rr][Ee][Aa][Dd][Mm][Ee]\\.org</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">config\\.org</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">$"</span> file<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-string">".org-registry.el"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2a8bd13" class="outline-3">
<h3 id="org2a8bd13"><span class="section-number-3">5.13.</span> olivetti 次要模式自动平衡窗口边距</h3>
<div class="outline-text-3" id="text-5-13">
<p>
<a href="https://github.com/rnkn/olivetti">olivetti</a>，该包将会自动调整窗口的边距
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">olivetti</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>org-mode . olivetti-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span>markdown-mode . olivetti-mode<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span> <span class="org-rainbow-delimiters-depth-2">(</span>olivetti-body-width 0.75<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb5bb9b0" class="outline-3">
<h3 id="orgb5bb9b0"><span class="section-number-3">5.14.</span> format all code</h3>
<div class="outline-text-3" id="text-5-14">
<p>
使用 <a href="https://github.com/lassik/emacs-format-all-the-code">emacs-format-all-the-code</a> 来进行格式化操作，不使用 lsp 的 format 功能
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">format-all</span>
  <span class="org-builtin">:commands</span> format-all-mode
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>prog-mode . format-all-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6733feb" class="outline-3">
<h3 id="org6733feb"><span class="section-number-3">5.15.</span> rime</h3>
<div class="outline-text-3" id="text-5-15">
<p>
<a href="https://github.com/DogLooksGood/emacs-rime">emacs-rime</a>，emacs rime 模块，让 emacs 本身支持使用 rime。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">rime</span>
  <span class="org-builtin">:demand</span> t
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>default-input-method <span class="org-string">"rime"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:bind</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:map</span> rime-mode-map
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-`"</span> . 'rime-send-keybinding<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5b2c076" class="outline-3">
<h3 id="org5b2c076"><span class="section-number-3">5.16.</span> init-edit.el 文件尾</h3>
<div class="outline-text-3" id="text-5-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(message "init-base configuration: %.2fs"</span>
<span class="org-comment-delimiter">;;          </span><span class="org-comment">(float-time (time-subtract (current-time) my/init-base-start-time)))</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-edit</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-edit.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orga26088a" class="outline-2">
<h2 id="orga26088a"><span class="section-number-2">6.</span> init-org.el</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org4a36b09" class="outline-3">
<h3 id="org4a36b09"><span class="section-number-3">6.1.</span> init-org.el 文件头</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-org.el --- Org mode settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6a075cd" class="outline-3">
<h3 id="org6a075cd"><span class="section-number-3">6.2.</span> org 调整</h3>
<div class="outline-text-3" id="text-6-2">
<p>
org 还是使用最新的比较好！！！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:custom-face</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;Org mode&#26631;&#39064;&#20197;&#21450;&#27599;&#32423;&#26631;&#39064;&#34892;&#30340;&#22823;&#23567;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-document-title <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.3 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-1 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.2 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-2 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.15 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-3 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.1 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-4 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.05 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-5 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.0 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-6 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.0 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-7 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.0 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-8 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.0 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-level-9 <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:height</span> 1.0 <span class="org-builtin">:weight</span> bold<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#20195;&#30721;&#22359;&#29992;&#19978;&#19979;&#36793;&#32447;&#21253;&#35065;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-block-begin-line <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:underline</span> t <span class="org-builtin">:background</span> unspecified<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-block-end-line <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:overline</span> t <span class="org-builtin">:underline</span> nil <span class="org-builtin">:background</span> unspecified<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22788;&#29702;&#25481;&#36229;&#38142;&#25509;&#40664;&#35748;&#30340;&#39640;&#20142;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-link <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>t <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-builtin">:foreground</span> unspecified <span class="org-builtin">:underline</span> t<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#33258;&#21160;&#24320;&#21551; indent mode</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-startup-indented t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#20801;&#35768;&#23383;&#27597;&#21015;&#34920;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-list-allow-alphabetical t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#32534;&#36753;&#26102;&#26816;&#26597;&#26159;&#21542;&#22312;&#25240;&#21472;&#30340;&#19981;&#21487;&#35265;&#21306;&#22495;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-fold-catch-invisible-edits 'smart<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#22270;&#29255;&#30340;&#26368;&#22823;&#23485;&#24230;&#65292;&#22914;&#26524;&#26377;imagemagick&#25903;&#25345;&#23558;&#20250;&#25913;&#21464;&#22270;&#29255;&#23454;&#38469;&#23485;&#24230;</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22235;&#31181;&#35774;&#32622;&#26041;&#27861;&#65306;(1080), 1080, t, nil</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-image-actual-width nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22788;&#29702;&#20013;&#25991;&#30340;&#25442;&#34892;&#38382;&#39064;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>word-wrap-by-category t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#26631;&#39064;&#34892;&#20043;&#38388;&#24635;&#26159;&#26377;&#31354;&#26684;&#65307;&#21015;&#34920;&#20043;&#38388;&#26681;&#25454;&#24773;&#20917;&#33258;&#21160;&#21152;&#31354;&#26684;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-blank-before-new-entry
  <span class="org-indent-bars-1"> </span>'<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>heading . t<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-rainbow-delimiters-depth-4">(</span>plain-list-item . auto<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;Org mode&#30340;&#30446;&#24405;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-directory <span class="org-string">"~/org"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#31508;&#35760;&#30340;&#40664;&#35748;&#23384;&#20648;&#20301;&#32622;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-default-notes-file <span class="org-rainbow-delimiters-depth-3">(</span>expand-file-name <span class="org-string">"capture.org"</span> org-directory<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#21551;&#29992;&#19968;&#20123;&#23376;&#27169;&#22359;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-modules '<span class="org-rainbow-delimiters-depth-3">(</span>ol-bibtex ol-gnus ol-info ol-eww org-habit org-protocol<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#26631;&#39064;&#34892;&#32654;&#21270;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-fontify-whole-heading-line t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35774;&#32622;&#26631;&#39064;&#34892;&#25240;&#21472;&#31526;&#21495;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-ellipsis <span class="org-string">" &#9662;"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#27963;&#21160;&#21306;&#22495;&#20869;&#30340;&#25152;&#26377;&#26631;&#39064;&#26639;&#25191;&#34892;&#26576;&#20123;&#21629;&#20196;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-loop-over-headlines-in-active-region t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">TODO&#26631;&#31614;&#32654;&#21270;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-fontify-todo-headline t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">DONE&#26631;&#31614;&#32654;&#21270;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-fontify-done-headline t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#24341;&#29992;&#22359;&#32654;&#21270;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-fontify-quote-and-verse-blocks t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#38544;&#34255;&#23439;&#26631;&#35760;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-hide-macro-markers t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#38544;&#34255;&#24378;&#35843;&#26631;&#31614;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-hide-emphasis-markers t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#39640;&#20142;latex&#35821;&#27861;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-highlight-latex-and-related '<span class="org-rainbow-delimiters-depth-3">(</span>native script entities<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#20197;UTF-8&#26174;&#31034;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-pretty-entities t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#24403;&#21551;&#29992;&#32553;&#36827;&#27169;&#24335;&#26102;&#33258;&#21160;&#38544;&#34255;&#21069;&#32622;&#26143;&#21495;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-indent-mode-turns-on-hiding-stars t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#33258;&#21160;&#26174;&#31034;&#22270;&#29255;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-startup-with-inline-images t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#40664;&#35748;&#20197;Overview&#30340;&#27169;&#24335;&#23637;&#31034;&#26631;&#39064;&#34892;</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(org-startup-folded 'content)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#20801;&#35768;&#23383;&#27597;&#21015;&#34920;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-list-allow-alphabetical t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#21015;&#34920;&#30340;&#19979;&#19968;&#32423;&#35774;&#32622;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-list-demote-modify-bullet
  <span class="org-indent-bars-1"> </span>'<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"-"</span>  . <span class="org-string">"+"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"+"</span>  . <span class="org-string">"1."</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"1."</span> . <span class="org-string">"a."</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#32534;&#36753;&#26102;&#26816;&#26597;&#26159;&#21542;&#22312;&#25240;&#21472;&#30340;&#19981;&#21487;&#35265;&#21306;&#22495;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-fold-catch-invisible-edits 'smart<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#24403;&#21069;&#20301;&#32622;&#25554;&#20837;&#26032;&#26631;&#39064;&#34892;&#36824;&#26159;&#22312;&#24403;&#21069;&#26631;&#39064;&#34892;&#21518;&#25554;&#20837;&#65292;&#36825;&#37324;&#35774;&#32622;&#20026;&#24403;&#21069;&#20301;&#32622;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-insert-heading-respect-content nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">imenu&#30340;&#26368;&#22823;&#28145;&#24230;&#65292;&#40664;&#35748;&#20026;2</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-imenu-depth 4<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22238;&#36710;&#35201;&#19981;&#35201;&#35302;&#21457;&#38142;&#25509;&#65292;&#36825;&#37324;&#35774;&#32622;&#19981;&#35302;&#21457;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-return-follows-link nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#19978;&#26631;^&#19979;&#26631;_&#26159;&#21542;&#38656;&#35201;&#29305;&#27530;&#23383;&#31526;&#21253;&#35065;&#65292;&#36825;&#37324;&#35774;&#32622;&#38656;&#35201;&#29992;&#22823;&#25324;&#21495;&#21253;&#35065;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-use-sub-superscripts '{}<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22797;&#21046;&#31896;&#36148;&#26631;&#39064;&#34892;&#30340;&#26102;&#20505;&#21024;&#38500;id</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-clone-delete-id t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#31896;&#36148;&#26102;&#35843;&#25972;&#26631;&#39064;&#34892;&#30340;&#32423;&#21035;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-yank-adjusted-subtrees t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#20351;&#29992;&#19987;&#23478;&#27169;&#24335;&#36873;&#25321;&#26631;&#39064;&#26639;&#29366;&#24577;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-use-fast-todo-selection 'expert<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#29238;&#23376;&#26631;&#39064;&#26639;&#29366;&#24577;&#26377;&#20381;&#36182;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-enforce-todo-dependencies t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#26631;&#39064;&#26639;&#21644;&#20219;&#21153;&#22797;&#36873;&#26694;&#26377;&#20381;&#36182;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-enforce-todo-checkbox-dependencies t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#20248;&#20808;&#32423;&#26679;&#24335;&#35774;&#32622;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-priority-faces '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>?A <span class="org-builtin">:foreground</span> <span class="org-string">"red"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                     <span class="org-rainbow-delimiters-depth-4">(</span>?B <span class="org-builtin">:foreground</span> <span class="org-string">"orange"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                     <span class="org-rainbow-delimiters-depth-4">(</span>?C <span class="org-builtin">:foreground</span> <span class="org-string">"yellow"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-3">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>   <span class="org-rainbow-delimiters-depth-3">(</span>plist-put org-format-latex-options <span class="org-builtin">:scale</span> 1.25<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>plist-put org-format-latex-options <span class="org-builtin">:scale</span> 2.5<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org35d37dc" class="outline-3">
<h3 id="org35d37dc"><span class="section-number-3">6.3.</span> org-modern</h3>
<div class="outline-text-3" id="text-6-3">
<p>
<a href="https://github.com/minad/org-modern">org-modern</a> 美化 org-mode 的插件。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-modern</span>
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-hide-stars 'leading<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>line-spacing 0.1<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#30001;&#20110;&#23383;&#20307;&#38382;&#39064;&#65292;&#31105;&#29992;&#25481; table &#32654;&#21270;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-modern-table nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>global-org-modern-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf696c0c" class="outline-3">
<h3 id="orgf696c0c"><span class="section-number-3">6.4.</span> org-modern-indent</h3>
<div class="outline-text-3" id="text-6-4">
<p>
<a href="https://github.com/jdtsmith/org-modern-indent">org-modern-indent</a> 优化在 org-modern 开启下的 indent，效果很不错！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-modern-indent</span>
  <span class="org-builtin">:ensure</span> '<span class="org-rainbow-delimiters-depth-2">(</span>org-modern-indent <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"jdtsmith/org-modern-indent"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:after</span> org-modern
  <span class="org-builtin">:config</span> <span class="org-comment-delimiter">; </span><span class="org-comment">add late to hook</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'org-mode-hook #'org-modern-indent-mode 90<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgff72d59" class="outline-3">
<h3 id="orgff72d59"><span class="section-number-3">6.5.</span> org-pretty-table</h3>
<div class="outline-text-3" id="text-6-5">
<p>
<a href="https://github.com/Fuco1/org-pretty-table">org-pretty-table</a> 美化 org 的 table，它的效果实际体验来看的话，比 org-modern 好得多！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-pretty-table</span>
  <span class="org-builtin">:ensure</span> '<span class="org-rainbow-delimiters-depth-2">(</span>org-pretty-table <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"Fuco1/org-pretty-table"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-mode . org-pretty-table-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgce01017" class="outline-3">
<h3 id="orgce01017"><span class="section-number-3">6.6.</span> org 导出调整</h3>
<div class="outline-text-3" id="text-6-6">
<p>
通用的导出设置：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ox</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-toc t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-drawers nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-priority t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-footnotes t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-smart-quotes t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-section-numbers t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-sub-superscripts '{}<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-use-babel t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-headline-levels 9<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-coding-system 'utf-8<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-with-broken-links 'mark<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-export-default-language <span class="org-string">"zh-CN"</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#40664;&#35748;&#26159;en</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-html-htmlize-output-type 'css<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-html-head-include-default-style nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#24456;&#22855;&#24618;&#65292;&#36825;&#20010;&#21464;&#37327;&#36890;&#36807; custom &#35774;&#32622;&#26080;&#25928;&#65292;&#20294;&#26159; setq &#29983;&#25928;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-export-exclude-tags '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"TOC"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">export extra</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ox-extra</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>ox-extras-activate '<span class="org-rainbow-delimiters-depth-3">(</span>ignore-headlines<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
设置完后，我们按下 <code>C-x C-e</code> 键后，可以看到默认就支持了 iCalendar、HTML、LaTex、ODT、Plain Text、Publish（HTML静态站点）这几个导出格式。
</p>
</div>
<div id="outline-container-org94ba421" class="outline-4">
<h4 id="org94ba421"><span class="section-number-4">6.6.1.</span> HTML 配置</h4>
<div class="outline-text-4" id="text-6-6-1">
<p>
导出使用的主题可以参考这里：<a href="https://olmon.gitlab.io/org-themes/">org mode html theme</a>
</p>

<p>
直接在顶部加上以下代码即可：
</p>

<div class="org-src-container">
<pre class="src src-org"><span class="org-org-meta-line">HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="<a href="https://gongzhitaao.org/orgcss/org.css&quot;/">https://gongzhitaao.org/orgcss/org.css"/</a>&gt;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ox-html</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:init</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">add support for video</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defun</span> <span class="org-function-name">org-video-link-export</span> <span class="org-rainbow-delimiters-depth-3">(</span>path desc backend<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>ext <span class="org-rainbow-delimiters-depth-6">(</span>file-name-extension path<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">cond</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span><span class="org-rainbow-delimiters-depth-6">(</span>eq 'html backend<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-6">(</span>format <span class="org-string">"&lt;video width='</span><span class="org-string"><span class="org-constant">800</span></span><span class="org-string">' preload='</span><span class="org-string"><span class="org-constant">metadata</span></span><span class="org-string">' controls='</span><span class="org-string"><span class="org-constant">controls</span></span><span class="org-string">'&gt;&lt;source type='</span><span class="org-string"><span class="org-constant">video/%s</span></span><span class="org-string">' src='</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">' /&gt;&lt;/video&gt;"</span> ext path<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">fall-through case for everything else</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span>t
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> path<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-link-set-parameters <span class="org-string">"video"</span> <span class="org-builtin">:export</span> 'org-video-link-export<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-html-doctype <span class="org-string">"html5"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-html-html5-fancy t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-html-checkbox-type 'unicode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-html-validation-link nil<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">htmlize</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>htmlize-pre-style t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>htmlize-output-type 'css<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org127a340" class="outline-4">
<h4 id="org127a340"><span class="section-number-4">6.6.2.</span> 导出 PDF</h4>
<div class="outline-text-4" id="text-6-6-2">
<p>
org 导出 pdf，首先需要保证已经安装了 latex 相关环境，并且有 <code>xelatex</code>
</p>

<p>
还需要在要导出的 org 开头添加 <code>#+LATEX_HEADER: \usepackage{ctex}</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ox-latex</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> org-latex-compiler <span class="org-string">"xelatex"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd32f73e" class="outline-3">
<h3 id="orgd32f73e"><span class="section-number-3">6.7.</span> org 链接类型</h3>
<div class="outline-text-3" id="text-6-7">
<p>
在 <code>org</code> 文件里通过 <code>C-c C-l</code> 来插入链接
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ol</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-link-keep-stored-after-insertion t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-link-abbrev-alist '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"github"</span>        . <span class="org-string">"https://github.com/"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"gitlab"</span>        . <span class="org-string">"https://gitlab.com/"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"google"</span>        . <span class="org-string">"https://google.com/search?q="</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"wiki"</span>          . <span class="org-string">"https://en.wikipedia.org/wiki/"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"youtube"</span>       . <span class="org-string">"https://youtube.com/watch?v="</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                        <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"zhihu"</span>         . <span class="org-string">"https://zhihu.com/question/"</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcb76209" class="outline-3">
<h3 id="orgcb76209"><span class="section-number-3">6.8.</span> org-contrib org 工具</h3>
<div class="outline-text-3" id="text-6-8">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-contrib</span> <span class="org-builtin">:after</span> org<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1661e98" class="outline-3">
<h3 id="org1661e98"><span class="section-number-3">6.9.</span> valign 控制对齐</h3>
<div class="outline-text-3" id="text-6-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">valign</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>org-mode . valign-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span>markdown-mode . valign-mode<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge45976d" class="outline-3">
<h3 id="orge45976d"><span class="section-number-3">6.10.</span> org-appear 自动展开强调链接</h3>
<div class="outline-text-3" id="text-6-10">
<p>
当我们的光标移动到 <code>Org mode</code> 里的强调、链接上时，会自动展开，这样方便进行编辑。
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-appear</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-mode . org-appear-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6959800" class="outline-3">
<h3 id="org6959800"><span class="section-number-3">6.11.</span> toc-org 生成目录</h3>
<div class="outline-text-3" id="text-6-11">
<p>
为 org 生成目录。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">toc-org</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-mode . toc-org-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga7188f3" class="outline-3">
<h3 id="orga7188f3"><span class="section-number-3">6.12.</span> ox-gfm 导出为 markdown</h3>
<div class="outline-text-3" id="text-6-12">
<p>
将 org 导出为 github 风格的 markdown
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ox-gfm</span> <span class="org-builtin">:defer</span> t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd4ba76e" class="outline-3">
<h3 id="orgd4ba76e"><span class="section-number-3">6.13.</span> org-margin 突出显示标题</h3>
<div class="outline-text-3" id="text-6-13">
<p>
用于突出标题，但是不应该和 olivetti 一起使用。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-margin</span>
  <span class="org-builtin">:ensure</span> '<span class="org-rainbow-delimiters-depth-2">(</span>org-margin <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"rougier/org-margin"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:disabled</span> t
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-mode . org-margin-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org293a49f" class="outline-3">
<h3 id="org293a49f"><span class="section-number-3">6.14.</span> org-fragtog 自动切换 latex 渲染</h3>
<div class="outline-text-3" id="text-6-14">
<p>
<a href="https://github.com/io12/org-fragtog">org-fragtog</a> 当光标进入和退出时自动切换 Org 模式 LaTeX 片段预览。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-fragtog</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>org-mode . org-fragtog-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org80b1d6d" class="outline-3">
<h3 id="org80b1d6d"><span class="section-number-3">6.15.</span> org-roam</h3>
<div class="outline-text-3" id="text-6-15">
<p>
org-roam 知识管理系统
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">org-roam</span>
  <span class="org-builtin">:after</span> org<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org35a05b4" class="outline-3">
<h3 id="org35a05b4"><span class="section-number-3">6.16.</span> init-org.el 文件尾</h3>
<div class="outline-text-3" id="text-6-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-org</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-org.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfe966f8" class="outline-2">
<h2 id="orgfe966f8"><span class="section-number-2">7.</span> init-md.el</h2>
<div class="outline-text-2" id="text-7">
<p>
提供 markdown 支持
</p>
</div>
<div id="outline-container-org9aad301" class="outline-3">
<h3 id="org9aad301"><span class="section-number-3">7.1.</span> init-md.el 文件头</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-md.el --- Org mode settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org501c1c7" class="outline-3">
<h3 id="org501c1c7"><span class="section-number-3">7.2.</span> markdown-mode</h3>
<div class="outline-text-3" id="text-7-2">
<p>
<a href="https://jblevins.org/projects/markdown-mode/">markdown-mode</a> 专门给 markdown 使用的 mode，提供了不少功能！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">markdown-mode</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:mode</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"README\\.md\\'"</span> . gfm-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> markdown-command <span class="org-string">"pandoc"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd76a008" class="outline-3">
<h3 id="orgd76a008"><span class="section-number-3">7.3.</span> markdown-toc</h3>
<div class="outline-text-3" id="text-7-3">
<p>
为 markdown 生成标题，具体操作见 <a href="https://github.com/ardumont/markdown-toc">Github</a>。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">markdown-toc</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>markdown-mode . markdown-toc-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdbfb1c7" class="outline-3">
<h3 id="orgdbfb1c7"><span class="section-number-3">7.4.</span> init-md.el 文件尾</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-md</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-md.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2095bba" class="outline-2">
<h2 id="org2095bba"><span class="section-number-2">8.</span> init-completion.el</h2>
<div class="outline-text-2" id="text-8">
<p>
Emacs的补全设置。
</p>
</div>
<div id="outline-container-orgec29a6f" class="outline-3">
<h3 id="orgec29a6f"><span class="section-number-3">8.1.</span> init-completion.el 文件头</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-completion.el --- Completion settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org34acb28" class="outline-3">
<h3 id="org34acb28"><span class="section-number-3">8.2.</span> smartparens</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Emacs 的次要模式，聪明地处理括号。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">smartparens</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>prog-mode text-mode markdown-mode<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">add `smartparens-mode` to these hooks</span>
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">load default config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">require</span> '<span class="org-constant">smartparens-config</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9786c31" class="outline-3">
<h3 id="org9786c31"><span class="section-number-3">8.3.</span> vertico 垂直补全系统</h3>
<div class="outline-text-3" id="text-8-3">
<p>
<a href="https://github.com/minad/vertico">vertico</a> 插件提供了一个垂直样式的补全系统。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 vertico
 <span class="org-builtin">:defer</span> t
 <span class="org-builtin">:custom</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>vertico-scroll-margin 0<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Different scroll margin</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>vertico-count 20<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Show more candidates</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>vertico-resize t<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Grow and shrink the Vertico minibuffer</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>vertico-cycle t<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable cycling for `</span><span class="org-comment"><span class="org-constant">vertico-next/previous</span></span><span class="org-comment">'</span>
 <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>vertico-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org225318b" class="outline-3">
<h3 id="org225318b"><span class="section-number-3">8.4.</span> 提升 <code>vertico</code> 体验（抄自官方文档）</h3>
<div class="outline-text-3" id="text-8-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 emacs
 <span class="org-builtin">:ensure</span> nil
 <span class="org-builtin">:custom</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">Support opening new minibuffers from inside existing minibuffers.</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>enable-recursive-minibuffers t<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">Emacs 28 and newer: Hide commands in M-x which do not work in the current</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">mode.  Vertico commands are hidden in normal buffers. This setting is</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">useful beyond Vertico.</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>read-extended-command-predicate #'command-completion-default-include-p<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-builtin">:init</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">Add prompt indicator to `</span><span class="org-comment"><span class="org-constant">completing-read-multiple</span></span><span class="org-comment">'.</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">We display [CRM&lt;separator&gt;], e.g., [CRM,] if the separator is a comma.</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defun</span> <span class="org-function-name">crm-indicator</span> <span class="org-rainbow-delimiters-depth-3">(</span>args<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span>cons
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>format <span class="org-string">"[CRM%s] %s"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>       <span class="org-rainbow-delimiters-depth-5">(</span>replace-regexp-in-string
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span><span class="org-string">"\\`\\[</span><span class="org-string"><span class="org-constant">.*?</span></span><span class="org-string">]\\*</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">\\[</span><span class="org-string"><span class="org-constant">.*?</span></span><span class="org-string">]\\*\\'"</span> <span class="org-string">""</span> crm-separator<span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>       <span class="org-rainbow-delimiters-depth-5">(</span>car args<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>cdr args<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>advice-add #'completing-read-multiple <span class="org-builtin">:filter-args</span> #'crm-indicator<span class="org-rainbow-delimiters-depth-2">)</span>

 <span class="org-comment-delimiter">;; </span><span class="org-comment">Do not allow the cursor in the minibuffer prompt</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> minibuffer-prompt-properties
  <span class="org-indent-bars-1"> </span>    '<span class="org-rainbow-delimiters-depth-3">(</span>read-only t cursor-intangible t face minibuffer-prompt<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'minibuffer-setup-hook #'cursor-intangible-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org2de8bdc" class="outline-4">
<h4 id="org2de8bdc"><span class="section-number-4">8.4.1.</span> vertico-directory</h4>
<div class="outline-text-4" id="text-8-4-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Configure directory extension.</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 vertico-directory
 <span class="org-builtin">:after</span> vertico
 <span class="org-builtin">:ensure</span> nil
 <span class="org-comment-delimiter">;; </span><span class="org-comment">More convenient directory navigation commands</span>
 <span class="org-builtin">:bind</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:map</span>
  vertico-map
  <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"RET"</span> . vertico-directory-enter<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"DEL"</span> . vertico-directory-delete-char<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-DEL"</span> . vertico-directory-delete-word<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">Tidy shadowed file names</span>
 <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>rfn-eshadow-update-overlay . vertico-directory-tidy<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org05a3856" class="outline-4">
<h4 id="org05a3856"><span class="section-number-4">8.4.2.</span> vertico-mouse</h4>
<div class="outline-text-4" id="text-8-4-2">
<p>
给 vertico 启动鼠标支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">vertico-mouse</span>
  <span class="org-builtin">:after</span> vertico
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>vertico-mouse-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2d62805" class="outline-3">
<h3 id="org2d62805"><span class="section-number-3">8.5.</span> orderless 无序搜索</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">orderless &#26159;&#19968;&#31181;&#21746;&#23398;&#24605;&#24819;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 orderless
 <span class="org-builtin">:defer</span> t
 <span class="org-builtin">:custom</span>
 <span class="org-comment-delimiter">;; </span><span class="org-comment">Configure a custom style dispatcher (see the Consult wiki)</span>
 <span class="org-comment-delimiter">;</span><span class="org-comment">(orderless-style-dispatchers</span>
 <span class="org-comment-delimiter">; </span><span class="org-comment">'(+orderless-consult-dispatch orderless-affix-dispatch))</span>
 <span class="org-comment-delimiter">;</span><span class="org-comment">(orderless-component-separator #'orderless-escapable-split-on-space)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>completion-styles '<span class="org-rainbow-delimiters-depth-3">(</span>orderless flex<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>orderless-matching-styles
  '<span class="org-rainbow-delimiters-depth-3">(</span>orderless-regexp orderless-literal orderless-flex<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>completion-category-defaults nil<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>completion-category-overrides '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>file <span class="org-rainbow-delimiters-depth-5">(</span>styles partial-completion<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9f58b32" class="outline-3">
<h3 id="org9f58b32"><span class="section-number-3">8.6.</span> <code>marginalia</code> 增加提示信息支持</h3>
<div class="outline-text-3" id="text-8-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 marginalia
 <span class="org-builtin">:after</span> vertico
 <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>marginalia-mode<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-builtin">:custom</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>marginalia-annotators
  '<span class="org-rainbow-delimiters-depth-3">(</span>marginalia-annotators-heavy marginalia-annotators-light nil<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org642dfb1" class="outline-3">
<h3 id="org642dfb1"><span class="section-number-3">8.7.</span> consult 配置</h3>
<div class="outline-text-3" id="text-8-7">
<p>
<code>consult</code> 提供查询
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
  consult
  <span class="org-builtin">:demand</span> t
  <span class="org-builtin">:bind</span>
  <span class="org-rainbow-delimiters-depth-2">(</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">C-c bindings in `</span><span class="org-comment"><span class="org-constant">mode-specific-map</span></span><span class="org-comment">'</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c M-x"</span> . consult-mode-command<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c h"</span> . consult-history<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c k"</span> . consult-kmacro<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c m"</span> . consult-man<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c i"</span> . consult-info<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>remap Info-search<span class="org-rainbow-delimiters-depth-4">]</span> . consult-info<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>remap isearch-forward<span class="org-rainbow-delimiters-depth-4">]</span> . consult-line<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>remap isearch-backward<span class="org-rainbow-delimiters-depth-4">]</span> . consult-line<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">C-x bindings in `</span><span class="org-comment"><span class="org-constant">ctl-x-map</span></span><span class="org-comment">'</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x M-:"</span> . consult-complex-command<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. repeat-complex-command</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x b"</span> . consult-buffer<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. switch-to-buffer</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x 4 b"</span> . consult-buffer-other-window<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. switch-to-buffer-other-window</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x 5 b"</span> . consult-buffer-other-frame<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. switch-to-buffer-other-frame</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x t b"</span> . consult-buffer-other-tab<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. switch-to-buffer-other-tab</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x r b"</span> . consult-bookmark<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. bookmark-jump</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x p b"</span> . consult-project-buffer<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. project-switch-to-buffer</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">Custom M-# bindings for fast register access</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-#"</span> . consult-register-load<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-'"</span> . consult-register-store<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. abbrev-prefix-mark (unrelated)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-M-#"</span> . consult-register<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">Other custom bindings</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-y"</span> . consult-yank-pop<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. yank-pop</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">M-g bindings in `</span><span class="org-comment"><span class="org-constant">goto-map</span></span><span class="org-comment">'</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g e"</span> . consult-compile-error<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g f"</span> . consult-flymake<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Alternative: consult-flycheck</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g g"</span> . consult-goto-line<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. goto-line</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g M-g"</span> . consult-goto-line<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. goto-line</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g o"</span> . consult-outline<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Alternative: consult-org-heading</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g m"</span> . consult-mark<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g k"</span> . consult-global-mark<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g i"</span> . consult-imenu<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-g I"</span> . consult-imenu-multi<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">M-s bindings in `</span><span class="org-comment"><span class="org-constant">search-map</span></span><span class="org-comment">'</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s d"</span> . consult-find<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">Alternative: consult-fd</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s c"</span> . consult-locate<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s g"</span> . consult-grep<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s G"</span> . consult-git-grep<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s r"</span> . consult-ripgrep<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s l"</span> . consult-line<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s L"</span> . consult-line-multi<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s k"</span> . consult-keep-lines<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s u"</span> . consult-focus-lines<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">Isearch integration</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s e"</span> . consult-isearch-history<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:map</span>
  <span class="org-indent-bars-1"> </span>isearch-mode-map
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-e"</span> . consult-isearch-history<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. isearch-edit-string</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s e"</span> . consult-isearch-history<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. isearch-edit-string</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s l"</span> . consult-line<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">needed by consult-line to detect isearch</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s L"</span> . consult-line-multi<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">needed by consult-line to detect isearch</span>
  <span class="org-indent-bars-1"> </span><span class="org-comment-delimiter">;; </span><span class="org-comment">Minibuffer history</span>
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:map</span>
  <span class="org-indent-bars-1"> </span>minibuffer-local-map
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-s"</span> . consult-history<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. next-matching-history-element</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-r"</span> . consult-history<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">orig. previous-matching-history-element</span>
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:map</span>
  <span class="org-indent-bars-1"> </span>org-mode-map
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c C-j"</span> . consult-org-heading<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>completion-list-mode . consult-preview-at-point-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span>
  <span class="org-indent-bars-1"> </span>register-preview-delay 0.5
  <span class="org-indent-bars-1"> </span>register-preview-function #'consult-register-format<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>advice-add #'register-preview <span class="org-builtin">:override</span> #'consult-register-window<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span>
  <span class="org-indent-bars-1"> </span>xref-show-xrefs-function #'consult-xref
  <span class="org-indent-bars-1"> </span>xref-show-definitions-function #'consult-xref<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">consult-customize</span>
  <span class="org-indent-bars-1"> </span>consult-theme
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:preview-key</span> '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-builtin">:debounce</span> 0.4 any<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>consult-ripgrep consult-git-grep consult-grep
  <span class="org-indent-bars-1"> </span>consult-bookmark consult-recent-file consult-xref
  <span class="org-indent-bars-1"> </span>consult--source-recent-file consult--source-project-recent-file consult--source-bookmark
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:preview-key</span> <span class="org-string">"M-."</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#35753; consult &#25903;&#25345;&#39044;&#35272; org &#26102;&#20351;&#29992; org-modern &#21644; olivetti-mode</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'consult-preview-allowed-hooks 'global-org-modern-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'consult-preview-allowed-hooks 'olivetti-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org884628c" class="outline-4">
<h4 id="org884628c"><span class="section-number-4">8.7.1.</span> consult flycheck</h4>
<div class="outline-text-4" id="text-8-7-1">
<p>
为 consult 继承 flycheck，官方出品
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-flycheck</span>
  <span class="org-builtin">:after</span> consult<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org328bbb7" class="outline-4">
<h4 id="org328bbb7"><span class="section-number-4">8.7.2.</span> consult TODO</h4>
<div class="outline-text-4" id="text-8-7-2">
<p>
为 consult 集成 TODO 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-todo</span>
  <span class="org-builtin">:after</span> consult<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga123a51" class="outline-4">
<h4 id="orga123a51"><span class="section-number-4">8.7.3.</span> consult ls git</h4>
<div class="outline-text-4" id="text-8-7-3">
<p>
consult 的 git 扩展
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-ls-git</span>
  <span class="org-builtin">:after</span> consult
  <span class="org-builtin">:bind</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c g f"</span> . #'consult-ls-git<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c g F"</span> . #'consult-ls-git-other-window<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf8666c1" class="outline-4">
<h4 id="orgf8666c1"><span class="section-number-4">8.7.4.</span> consult dir</h4>
<div class="outline-text-4" id="text-8-7-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-dir</span>
  <span class="org-builtin">:after</span> consult
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x C-d"</span> . consult-dir<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-builtin">:map</span> vertico-map
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x C-d"</span> . consult-dir<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x C-j"</span> . consult-dir-jump-file<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb1f8bc7" class="outline-4">
<h4 id="orgb1f8bc7"><span class="section-number-4">8.7.5.</span> consult snippets</h4>
<div class="outline-text-4" id="text-8-7-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-yasnippet</span>
  <span class="org-builtin">:after</span> consult<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc4952e6" class="outline-4">
<h4 id="orgc4952e6"><span class="section-number-4">8.7.6.</span> consult lsp</h4>
<div class="outline-text-4" id="text-8-7-6">
<p>
<a href="https://github.com/gagbo/consult-lsp">consult-lsp</a>，给 consult 增加 lsp 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-lsp</span>
  <span class="org-builtin">:after</span> lsp consult
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:map</span> lsp-mode-map
  <span class="org-indent-bars-1"> </span>           <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>remap xref-find-apropos<span class="org-rainbow-delimiters-depth-4">]</span> . consult-lsp-symbols<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc22c5ee" class="outline-4">
<h4 id="orgc22c5ee"><span class="section-number-4">8.7.7.</span> consult-gh</h4>
<div class="outline-text-4" id="text-8-7-7">
<p>
<a href="https://github.com/armindarvish/consult-gh">consult-gh</a>，为 consult 添加 github cli 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">consult-gh</span>
  <span class="org-builtin">:if</span> <span class="org-rainbow-delimiters-depth-2">(</span>executable-find <span class="org-string">"gh"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:after</span> consult<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3c2bd84" class="outline-3">
<h3 id="org3c2bd84"><span class="section-number-3">8.8.</span> corfu 补全框架</h3>
<div class="outline-text-3" id="text-8-8">
<p>
<a href="https://github.com/minad/corfu">corfu</a> 是一个补全框架，相较于 <code>company</code> 更加现代化
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">corfu</span>
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:after</span> savehist
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>corfu-cycle t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>corfu-auto t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>corfu-separator ?\s<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>corfu-preselect 'prompt<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>corfu-scroll-margin 5<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:bind</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:map</span> corfu-map
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"TAB"</span> . corfu-next<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>tab<span class="org-rainbow-delimiters-depth-4">]</span> . corfu-next<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"S-TAB"</span> . corfu-previous<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>backtab<span class="org-rainbow-delimiters-depth-4">]</span> . corfu-previous<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>global-corfu-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>corfu-history-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'savehist-additional-variables 'corfu-history<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org8505515" class="outline-4">
<h4 id="org8505515"><span class="section-number-4">8.8.1.</span> 优化 emacs 体验</h4>
<div class="outline-text-4" id="text-8-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">emacs</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-builtin">:custom</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">TAB cycle if there are only few candidates</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(completion-cycle-threshold 3)</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable indentation+completion using the TAB key.</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">completion-at-point</span></span><span class="org-comment">' is often bound to M-TAB.</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>tab-always-indent 'complete<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org03a146d" class="outline-4">
<h4 id="org03a146d"><span class="section-number-4">8.8.2.</span> corfu-nerd-icons</h4>
<div class="outline-text-4" id="text-8-8-2">
<p>
<a href="https://github.com/LuigiPiucco/nerd-icons-corfu">corfu-nerd-icons</a>，为 corfu 增加 nerd icons 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">nerd-icons-corfu</span>
  <span class="org-builtin">:after</span> corfu
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'corfu-margin-formatters #'nerd-icons-corfu-formatter<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1c9f291" class="outline-3">
<h3 id="org1c9f291"><span class="section-number-3">8.9.</span> dabbrev 配置</h3>
<div class="outline-text-3" id="text-8-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use Dabbrev with Corfu!</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">dabbrev</span>
  <span class="org-builtin">:ensure</span> nil
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Swap M-/ and C-M-/</span>
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"M-/"</span> . dabbrev-completion<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-M-/"</span> . dabbrev-expand<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'dabbrev-ignored-buffer-regexps <span class="org-string">"\\` "</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Since 29.1, use `</span><span class="org-comment"><span class="org-constant">dabbrev-ignored-buffer-regexps</span></span><span class="org-comment">' on older.</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'dabbrev-ignored-buffer-modes 'doc-view-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'dabbrev-ignored-buffer-modes 'pdf-view-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'dabbrev-ignored-buffer-modes 'tags-table-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org29af432" class="outline-3">
<h3 id="org29af432"><span class="section-number-3">8.10.</span> cape 补全后端</h3>
<div class="outline-text-3" id="text-8-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
  cape
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"C-c p"</span> . cape-prefix-map<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'cape-file<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;</span><span class="org-comment">(add-to-list 'completion-at-point-functions #'cape-abbrev)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'cape-dabbrev<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'cape-keyword<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">programming language keyword</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'cape-dict<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'cape-elisp-symbol<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">elisp symbol</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'cape-elisp-block<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;</span><span class="org-comment">(add-to-list 'completion-at-point-functions #'cape-line)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'completion-at-point-functions #'cape-emoji<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'completion-at-point-functions #'cape-tex<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-hook 'completion-at-point-functions #'cape-history<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>advice-add 'pcomplete-completions-at-point <span class="org-builtin">:around</span> #'cape-wrap-purify<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org23b947b" class="outline-4">
<h4 id="org23b947b"><span class="section-number-4">8.10.1.</span> cape 集成 yasnippet</h4>
<div class="outline-text-4" id="text-8-10-1">
<p>
通过 <a href="https://github.com/elken/yasnippet-capf">yasnippet-capf</a>，将 yasnippet 集成到 cape 中
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">yasnippet-capf</span>
  <span class="org-builtin">:after</span> cape yasnippet
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'completion-at-point-functions #'yasnippet-capf<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org52b0ebd" class="outline-3">
<h3 id="org52b0ebd"><span class="section-number-3">8.11.</span> yasnippet 补全框架</h3>
<div class="outline-text-3" id="text-8-11">
<p>
补全框架 yasnippet
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">yasnippet</span> <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>yas-global-mode 1<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 doom-snippets
 <span class="org-builtin">:ensure</span>
 <span class="org-rainbow-delimiters-depth-2">(</span>doom-snippets
  <span class="org-builtin">:type</span> git
  <span class="org-builtin">:host</span> github
  <span class="org-builtin">:repo</span> <span class="org-string">"doomemacs/snippets"</span>
  <span class="org-builtin">:files</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"*.el"</span> <span class="org-string">"*"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-builtin">:after</span> yasnippet<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">&#20877;&#35013;&#19968;&#20010;&#36890;&#29992;&#27169;&#26495;&#24211;&#65292;&#30465;&#24471;&#27809; template &#29992;</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">yasnippet-snippets</span> <span class="org-builtin">:after</span> yasnippet<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3414c73" class="outline-3">
<h3 id="org3414c73"><span class="section-number-3">8.12.</span> init-completion.el 文件尾</h3>
<div class="outline-text-3" id="text-8-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-completion</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-completion.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1ed05c0" class="outline-2">
<h2 id="org1ed05c0"><span class="section-number-2">9.</span> init-dev.tl</h2>
<div class="outline-text-2" id="text-9">
<p>
保存的主要是版本管理工具。
</p>
</div>
<div id="outline-container-org4ad3c3e" class="outline-3">
<h3 id="org4ad3c3e"><span class="section-number-3">9.1.</span> init-dev.el 文件头</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-dev.el --- Development settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org53a18af" class="outline-3">
<h3 id="org53a18af"><span class="section-number-3">9.2.</span> magit 版本管理</h3>
<div class="outline-text-3" id="text-9-2">
<p>
<a href="https://github.com/magit/magit">magit</a> 是Emacs里的另一个杀手级应用！可以直接在Emacs里进行基于git的版本管理。
</p>

<p>
先安装依赖 transient，magit 居然没把它直接作为依赖来看（大概是因为只有 windows 需要）
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">transient</span> <span class="org-builtin">:defer</span> t<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">magit</span>
  <span class="org-builtin">:after</span> transient<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6bd84f1" class="outline-3">
<h3 id="org6bd84f1"><span class="section-number-3">9.3.</span> magit-todo</h3>
<div class="outline-text-3" id="text-9-3">
<p>
在 magit 的缓冲区进行高亮。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">magit-todos</span>
  <span class="org-builtin">:after</span> magit
  <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>magit-todos-mode 1<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf5c9741" class="outline-3">
<h3 id="orgf5c9741"><span class="section-number-3">9.4.</span> diff-hl 高亮显示修改的部分</h3>
<div class="outline-text-3" id="text-9-4">
<p>
<a href="https://github.com/dgutov/diff-hl">diff-hl</a> 插件可以在左侧高亮显示相对于远程仓库的修改部分。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">diff-hl</span> <span class="org-builtin">:defer</span> t <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>global-diff-hl-mode t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd604bf4" class="outline-3">
<h3 id="orgd604bf4"><span class="section-number-3">9.5.</span> magit-delta 增强 <code>git diff</code></h3>
<div class="outline-text-3" id="text-9-5">
<p>
<a href="https://github.com/dandavison/magit-delta">magit-delta</a> 插件可以通过 <code>git-delta</code> 来更优化的方式显示diff内容（需要提前安装 <code>git-delta</code> ）。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">magit-delta</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>magit-mode . magit-delta-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org87c65f2" class="outline-3">
<h3 id="org87c65f2"><span class="section-number-3">9.6.</span> magit-file-icons</h3>
<div class="outline-text-3" id="text-9-6">
<p>
<a href="https://github.com/gekoke/magit-file-icons">magit-file-icons</a>，为 magit 集成 文件图标
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">magit-file-icons</span>
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:after</span> magit
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>magit-file-icons-mode 1<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfd547e7" class="outline-3">
<h3 id="orgfd547e7"><span class="section-number-3">9.7.</span> treemacs-magit</h3>
<div class="outline-text-3" id="text-9-7">
<p>
为 treemacs 添加 magit 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">treemacs-magit</span>
  <span class="org-builtin">:after</span> <span class="org-rainbow-delimiters-depth-2">(</span>treemacs magit<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4c00682" class="outline-3">
<h3 id="org4c00682"><span class="section-number-3">9.8.</span> emsg-blame</h3>
<div class="outline-text-3" id="text-9-8">
<p>
<a href="https://github.com/ISouthRain/emsg-blame">emsg-blame</a> 便捷查看 git blame commit 信息的工具，非常好用。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">emsg-blame</span>
  <span class="org-builtin">:ensure</span>
  '<span class="org-rainbow-delimiters-depth-2">(</span>emsg-blame
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:type</span> git
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:host</span> github
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:repo</span> <span class="org-string">"ISouthRain/emsg-blame"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>emsg-blame-background nil <span class="org-string">"enable emsg blame background"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>emsg-blame-display
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">()</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-doc">"Display git blame message, right-aligned with Magit-style faces.</span>
<span class="org-doc">If another message is already being displayed, display both messages unless they</span>
<span class="org-doc">do not both fit in the echo area."</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-rainbow-delimiters-depth-6">(</span>message-log-max nil<span class="org-rainbow-delimiters-depth-6">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">prevent messages from being logged to *Messages*</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>     <span class="org-rainbow-delimiters-depth-6">(</span>cur-msg <span class="org-rainbow-delimiters-depth-7">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-8">(</span>current-message<span class="org-rainbow-delimiters-depth-8">)</span> <span class="org-string">""</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>     <span class="org-rainbow-delimiters-depth-6">(</span>blm-msg <span class="org-rainbow-delimiters-depth-7">(</span>format <span class="org-string">"%s %s %s "</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                emsg-blame--commit-summary
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                <span class="org-rainbow-delimiters-depth-8">(</span>propertize emsg-blame--commit-author 'face 'error<span class="org-rainbow-delimiters-depth-8">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span>                <span class="org-rainbow-delimiters-depth-8">(</span>propertize emsg-blame--commit-date 'face 'warning<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>     <span class="org-rainbow-delimiters-depth-6">(</span>available-width <span class="org-rainbow-delimiters-depth-7">(</span>max 0 <span class="org-rainbow-delimiters-depth-8">(</span>- <span class="org-rainbow-delimiters-depth-9">(</span>frame-width<span class="org-rainbow-delimiters-depth-9">)</span> <span class="org-rainbow-delimiters-depth-9">(</span>string-width cur-msg<span class="org-rainbow-delimiters-depth-9">)</span> 1<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>     <span class="org-rainbow-delimiters-depth-6">(</span>blm-msg-width <span class="org-rainbow-delimiters-depth-7">(</span>string-width blm-msg<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>     <span class="org-rainbow-delimiters-depth-6">(</span>padding <span class="org-rainbow-delimiters-depth-7">(</span>max 0 <span class="org-rainbow-delimiters-depth-8">(</span>- available-width blm-msg-width<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span>     <span class="org-rainbow-delimiters-depth-6">(</span>rev-blm-msg <span class="org-rainbow-delimiters-depth-7">(</span>concat <span class="org-rainbow-delimiters-depth-8">(</span>make-string padding ?\s<span class="org-rainbow-delimiters-depth-8">)</span> blm-msg<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-6">(</span>&gt; blm-msg-width available-width<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>  <span class="org-rainbow-delimiters-depth-6">(</span>message blm-msg<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span><span class="org-rainbow-delimiters-depth-6">(</span>message <span class="org-rainbow-delimiters-depth-7">(</span>concat cur-msg rev-blm-msg<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span> <span class="org-rainbow-delimiters-depth-2">(</span>global-emsg-blame-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5b1a6ea" class="outline-3">
<h3 id="org5b1a6ea"><span class="section-number-3">9.9.</span> init-dev.el 文件尾</h3>
<div class="outline-text-3" id="text-9-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-dev</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-dev.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7674daf" class="outline-2">
<h2 id="org7674daf"><span class="section-number-2">10.</span> init-tools.el</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org3d1e354" class="outline-3">
<h3 id="org3d1e354"><span class="section-number-3">10.1.</span> init-tools.el 文件头</h3>
<div class="outline-text-3" id="text-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-tools.el --- Tools settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary: Useful tools to make Emacs efficient!</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orgcd4d8d2" class="outline-3">
<h3 id="orgcd4d8d2"><span class="section-number-3">10.2.</span> windows/linux 粘贴图片</h3>
<div class="outline-text-3" id="text-10-2">
<p>
先声明一个检测是 wayland 还是 xorg 的函数
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>string= system-type <span class="org-string">"gnu/linux"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defun</span> <span class="org-function-name">detect-display-server-via-xdg</span> <span class="org-rainbow-delimiters-depth-3">()</span>
  <span class="org-indent-bars-1"> </span> <span class="org-doc">"&#36890;&#36807; $XDG_SESSION_TYPE &#26816;&#27979;&#24403;&#21069;&#26700;&#38754;&#29615;&#22659;: Wayland &#25110; Xorg&#65292;&#36820;&#22238;&#30456;&#24212;&#30340;&#20540;&#12290;"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>session-type <span class="org-rainbow-delimiters-depth-6">(</span>getenv <span class="org-string">"XDG_SESSION_TYPE"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">cond</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span><span class="org-rainbow-delimiters-depth-6">(</span>string= session-type <span class="org-string">"wayland"</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> t<span class="org-rainbow-delimiters-depth-5">)</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#36820;&#22238; true</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span><span class="org-rainbow-delimiters-depth-6">(</span>string= session-type <span class="org-string">"x11"</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> nil<span class="org-rainbow-delimiters-depth-5">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">&#36820;&#22238; false</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span><span class="org-rainbow-delimiters-depth-5">(</span>t
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> nil<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">&#36820;&#22238; nil</span>
<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
windows 粘贴函数
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-3">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-3">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span>   <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defun</span> <span class="org-function-name">paste-img</span> <span class="org-rainbow-delimiters-depth-3">()</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-doc">"paste image from clipboard"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>file-path <span class="org-rainbow-delimiters-depth-6">(</span>buffer-file-name<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>directory <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">if</span> file-path
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span>             <span class="org-rainbow-delimiters-depth-7">(</span>file-name-directory file-path<span class="org-rainbow-delimiters-depth-7">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span>           <span class="org-rainbow-delimiters-depth-7">(</span><span class="org-warning">error</span> <span class="org-string">"No associated file for the current buffer"</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>image-directory <span class="org-rainbow-delimiters-depth-6">(</span>expand-file-name <span class="org-string">"image"</span> directory<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>timestamp <span class="org-rainbow-delimiters-depth-6">(</span>format-time-string <span class="org-string">"%Y%m%d_%H%M%S"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>format <span class="org-rainbow-delimiters-depth-6">(</span>completing-read <span class="org-string">"Select image form:"</span> '<span class="org-rainbow-delimiters-depth-7">(</span><span class="org-string">"png"</span> <span class="org-string">"jpg"</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>image-name <span class="org-rainbow-delimiters-depth-6">(</span>format <span class="org-string">"image_%s.%s"</span> timestamp format<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>image-path <span class="org-rainbow-delimiters-depth-6">(</span>expand-file-name image-name image-directory<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>image-format <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-7">(</span>string= format <span class="org-string">"jpg"</span><span class="org-rainbow-delimiters-depth-7">)</span> <span class="org-string">"Jpeg"</span> <span class="org-string">"Png"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span>      <span class="org-rainbow-delimiters-depth-5">(</span>script <span class="org-rainbow-delimiters-depth-6">(</span>format <span class="org-string">"Add-Type -AssemblyName System.Windows.Forms; $clipboardImage = [System.Windows.Forms.Clipboard]::GetImage(); if ($clipboardImage -ne $null) { $clipboardImage.Save('</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">', [System.Drawing.Imaging.ImageFormat]::%s); Write-Host 'Image saved'; } else { Write-Host 'No image in clipboard'; }"</span> image-path image-format<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">unless</span> <span class="org-rainbow-delimiters-depth-5">(</span>file-exists-p image-directory<span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-rainbow-delimiters-depth-5">(</span>make-directory image-directory t<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
           
<span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-5">(</span>eq system-type 'gnu/linux<span class="org-rainbow-delimiters-depth-5">)</span>
<span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-6">(</span>detect-display-server-via-xdg<span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span>         <span class="org-comment-delimiter">;; </span><span class="org-comment">Wayland</span>
  <span class="org-indent-bars-1"> </span>         <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-rainbow-delimiters-depth-7">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-8">(</span>string= format <span class="org-string">"png"</span><span class="org-rainbow-delimiters-depth-8">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span>   <span class="org-rainbow-delimiters-depth-8">(</span>call-process <span class="org-string">"sh"</span> nil nil nil <span class="org-string">"-c"</span>  <span class="org-rainbow-delimiters-depth-9">(</span>format <span class="org-string">"wl-paste --type image/png &gt; %s"</span> image-path<span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-rainbow-delimiters-depth-8">(</span>call-process <span class="org-string">"sh"</span> nil nil nil <span class="org-string">"-c"</span> <span class="org-rainbow-delimiters-depth-9">(</span>format <span class="org-string">"wl-paste --type image/png | convert - %s"</span> image-path<span class="org-rainbow-delimiters-depth-9">)</span><span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-comment-delimiter">;; </span><span class="org-comment">Xorg</span>
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-rainbow-delimiters-depth-7">(</span>call-process <span class="org-string">"sh"</span> nil nil nil <span class="org-string">"-c"</span> <span class="org-rainbow-delimiters-depth-8">(</span>format <span class="org-string">"xclip -selection clipboard -t image/png -o | convert - %s"</span> image-path<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
           
  <span class="org-indent-bars-1"> </span>       <span class="org-rainbow-delimiters-depth-5">(</span>call-process <span class="org-string">"pwsh"</span> nil nil nil <span class="org-string">"-Command"</span> script<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-5">(</span>file-exists-p image-path<span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span>   <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-rainbow-delimiters-depth-6">(</span>insert <span class="org-rainbow-delimiters-depth-7">(</span>format <span class="org-string">"[[file:%s]]"</span> <span class="org-rainbow-delimiters-depth-8">(</span>concat <span class="org-string">"image/"</span> image-name<span class="org-rainbow-delimiters-depth-8">)</span><span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span> <span class="org-comment-delimiter">; </span><span class="org-comment">&#25554;&#20837;&#27491;&#30830;&#30340;&#30456;&#23545;&#36335;&#24452;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-rainbow-delimiters-depth-6">(</span>message <span class="org-string">"Image successfully saved to: %s"</span> image-path<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-rainbow-delimiters-depth-5">(</span>message <span class="org-string">"No image in clipboard or image not saved"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf69d49d" class="outline-3">
<h3 id="orgf69d49d"><span class="section-number-3">10.3.</span> undo-fu</h3>
<div class="outline-text-3" id="text-10-3">
<p>
线性 undo 插件
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">undo-fu</span>
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-z"</span> . undo-fu-only-undo<span class="org-rainbow-delimiters-depth-3">)</span>   <span class="org-comment-delimiter">;; </span><span class="org-comment">&#32465;&#23450; C-z &#20026;&#21482;&#25764;&#38144;</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-S-z"</span> . undo-fu-only-redo<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">&#32465;&#23450; C-S-z &#20026;&#21482;&#37325;&#20570;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org98cd818" class="outline-3">
<h3 id="org98cd818"><span class="section-number-3">10.4.</span> vundo</h3>
<div class="outline-text-3" id="text-10-4">
<p>
可视化的撤销树
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">vundo</span>
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:defer</span> t
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:custom</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-2">(</span>vundo-glyph-alist vundo-unicode-symbols <span class="org-string">"beautify unicode for tree"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x u"</span> . vundo<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgde4f6b7" class="outline-3">
<h3 id="orgde4f6b7"><span class="section-number-3">10.5.</span> 设置 shell</h3>
<div class="outline-text-3" id="text-10-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">when</span> <span class="org-rainbow-delimiters-depth-2">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-3">(</span>executable-find <span class="org-string">"pwsh"</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>   <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">setq</span> explicit-shell-file-name <span class="org-string">"pwsh"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1686a77" class="outline-3">
<h3 id="org1686a77"><span class="section-number-3">10.6.</span> crux</h3>
<div class="outline-text-3" id="text-10-6">
<p>
一系列比较方便使用的函数
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
  <span class="org-indent-bars-1"> </span>crux
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:bind</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x K"</span> . crux-kill-other-buffers<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-k"</span> . crux-smart-kill-line<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c r"</span> . crux-rename-file-and-buffer<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-builtin">:config</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-2">(</span>crux-with-region-or-buffer indent-region<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-2">(</span>crux-with-region-or-buffer untabify<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-2">(</span>crux-with-region-or-point-to-eol kill-ring-save<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defalias</span> '<span class="org-function-name">rename-file-and-buffer</span> #'crux-rename-file-and-buffer<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgac29a4b" class="outline-3">
<h3 id="orgac29a4b"><span class="section-number-3">10.7.</span> mwin</h3>
<div class="outline-text-3" id="text-10-7">
<p>
<a href="https://github.com/alezost/mwim.el">mwin</a> 改进 <code>C-a</code> 和 <code>C-e</code> 功能
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 mwim
 <span class="org-builtin">:bind</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"C-a"</span> . mwim-beginning-of-code-or-line<span class="org-rainbow-delimiters-depth-2">)</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"C-e"</span> . mwim-end-of-code-or-line<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc6a77bf" class="outline-3">
<h3 id="orgc6a77bf"><span class="section-number-3">10.8.</span> ace-window 窗口导航</h3>
<div class="outline-text-3" id="text-10-8">
<p>
<a href="https://github.com/abo-abo/ace-window">ace-window</a> 对每个 window 增加编号方便跳转！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ace-window</span> <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-x o"</span> . 'ace-window<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdb2ccca" class="outline-3">
<h3 id="orgdb2ccca"><span class="section-number-3">10.9.</span> helpful帮助增强</h3>
<div class="outline-text-3" id="text-10-9">
<p>
<a href="https://github.com/Wilfred/helpful">helpful</a> 插件提供了帮助增强。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">helpful</span>
  <span class="org-builtin">:commands</span> <span class="org-rainbow-delimiters-depth-2">(</span>helpful-callable helpful-variable helpful-command helpful-key helpful-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>remap describe-command<span class="org-rainbow-delimiters-depth-4">]</span> . helpful-command<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-h f"</span> . helpful-callable<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-h F"</span> . helpful-function<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-h v"</span> . helpful-variable<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c C-d"</span> . heloful-at-point<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-h x"</span> . helpful-command<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">[</span>remap describe-key<span class="org-rainbow-delimiters-depth-4">]</span> . helpful-key<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org956e4e6" class="outline-3">
<h3 id="org956e4e6"><span class="section-number-3">10.10.</span> projectile</h3>
<div class="outline-text-3" id="text-10-10">
<p>
<a href="https://projectile.mx/">projectile</a>，Emacs 的项目导航和管理库
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">projectile</span>
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>projectile-mode +1<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:bind</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:map</span> projectile-mode-map
  <span class="org-indent-bars-1"> </span>           <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c p"</span> . projectile-command-map<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org267a4f1" class="outline-3">
<h3 id="org267a4f1"><span class="section-number-3">10.11.</span> init-tools.el 文件尾</h3>
<div class="outline-text-3" id="text-10-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-tools</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-tools.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf7570db" class="outline-2">
<h2 id="orgf7570db"><span class="section-number-2">11.</span> init-lsp.el</h2>
<div class="outline-text-2" id="text-11">
<p>
lsp 配置，目前主流的 <code>lsp client</code> 也就是 <code>lsp-mode</code> <code>eglot</code> <code>lsp-bridge</code> 。
</p>

<ul class="org-ul">
<li>其中 <code>eglot</code> 属于 emacs 内置，无需额外安装，但是确定很明显，它功能不够，并且因为纯 <code>elisp</code> 实现，速度不快</li>
<li>而 <code>lsp-mode</code> 也是纯 <code>elisp</code> 实现，不过更完善，包含自动安装 <code>lsp server</code> 的功能，但更慢，并且由于功能过于复杂，一部分功能可能缺乏维护！</li>
<li><code>lsp-bridge</code> 则是通过 <code>python</code> 来提高速度，并且支持绝大多数的 <code>server</code> ，并且是国人制作！</li>
</ul>
</div>
<div id="outline-container-org7824ec0" class="outline-3">
<h3 id="org7824ec0"><span class="section-number-3">11.1.</span> init-lsp.el 文件头</h3>
<div class="outline-text-3" id="text-11-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-lsp.el --- Development settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org950c020" class="outline-3">
<h3 id="org950c020"><span class="section-number-3">11.2.</span> lsp-mode</h3>
<div class="outline-text-3" id="text-11-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">lsp-mode</span>
  <span class="org-builtin">:commands</span> <span class="org-rainbow-delimiters-depth-2">(</span>lsp lsp-deferred<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>lsp-keymap-prefix <span class="org-string">"C-c l"</span><span class="org-rainbow-delimiters-depth-2">)</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">Or '</span><span class="org-comment"><span class="org-constant">C-l</span></span><span class="org-comment">', '</span><span class="org-comment"><span class="org-constant">s-l</span></span><span class="org-comment">'</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>lsp-idle-delay 0.500<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#36825;&#20250;&#31105;&#29992;&#25481;&#26576;&#20123;&#26080;&#29992;&#30340;&#19996;&#35199;</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>lsp-completion-provider <span class="org-builtin">:none</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>prog-mode . <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-5">()</span>
  <span class="org-indent-bars-1"> </span>                     <span class="org-rainbow-delimiters-depth-5">(</span><span class="org-keyword">unless</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">or</span> <span class="org-rainbow-delimiters-depth-7">(</span>derived-mode-p 'lisp-mode 'emacs-lisp-mode<span class="org-rainbow-delimiters-depth-7">)</span><span class="org-rainbow-delimiters-depth-6">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-indent-bars-5"> </span> <span class="org-indent-bars-6"> </span> <span class="org-indent-bars-7"> </span> <span class="org-indent-bars-8"> </span> <span class="org-indent-bars-9"> </span> <span class="org-indent-bars-10"> </span> <span class="org-indent-bars-11"> </span> <span class="org-indent-bars-12"> </span> <span class="org-rainbow-delimiters-depth-6">(</span>lsp-deferred<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org4a8e0e6" class="outline-4">
<h4 id="org4a8e0e6"><span class="section-number-4">11.2.1.</span> lsp-ui</h4>
<div class="outline-text-4" id="text-11-2-1">
<p>
<a href="https://emacs-lsp.github.io/lsp-ui">lsp-ui</a>，精致的 lsp ui 功能！
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">lsp-ui</span> <span class="org-builtin">:commands</span> lsp-ui-mode<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgabbfd20" class="outline-4">
<h4 id="orgabbfd20"><span class="section-number-4">11.2.2.</span> lsp-treemacs</h4>
<div class="outline-text-4" id="text-11-2-2">
<p>
<a href="https://github.com/emacs-lsp/lsp-treemacs">lsp-treemacs</a>，将 lsp-mode 集成到 treemacs 中
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">lsp-treemacs</span>
  <span class="org-builtin">:after</span> treemacs lsp-mode
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>lsp-treemacs-sync-mode 1<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org39cc24c" class="outline-3">
<h3 id="org39cc24c"><span class="section-number-3">11.3.</span> lsp-pyright</h3>
<div class="outline-text-3" id="text-11-3">
<p>
添加 lsp-pyright 支持，<a href="https://emacs-lsp.github.io/lsp-pyright/">lsp-pyright</a>
</p>

<p>
可以使用 pyright 和 basedpytight
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">lsp-pyright</span>
  <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>python-mode . <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">()</span>
  <span class="org-indent-bars-1"> </span>                      <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">require</span> '<span class="org-constant">lsp-pyright</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>                      <span class="org-rainbow-delimiters-depth-4">(</span>lsp<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>  <span class="org-comment-delimiter">; </span><span class="org-comment">or lsp-deferred</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfc685eb" class="outline-3">
<h3 id="orgfc685eb"><span class="section-number-3">11.4.</span> lsp-bridge 配置</h3>
<div class="outline-text-3" id="text-11-4">
<p>
<a href="https://github.com/manateelazycat/lsp-bridge">lsp-bridge</a> 是一个由 <code>python</code> 实现的 lsp client。
</p>

<blockquote>
<p>
lsp-bridge 的目标是使用多线程技术实现 Emacs 生态中速度最快的 LSP 客户端， 开箱即用的设计理念， 节省你自己折腾的时间， 时间就是金钱。
</p>
</blockquote>

<p>
lsp-bridge 的优势：
</p>

<ol class="org-ol">
<li>速度超快： 把 LSP 的请求等待和数据分析都隔离到外部进程， 不会因为 LSP Server 返回延迟或大量数据触发 GC 而卡住 Emacs</li>
<li>远程补全： 内置远程服务器代码补全， 支持密码、 公钥等多种登录方式， 支持 tramp 协议， 支持 SSH 多级堡垒机跳转, 支持 Docker</li>
<li>开箱即用： 安装后立即可以使用， 不需要额外的配置， 不需要自己折腾补全前端、 补全后端以及多后端融合等配置</li>
<li>多服务器融合： 只需要一个简单的 JSON 即可混合多个 LSP Server 为同一个文件提供服务， 例如 Python， Pyright 提供代码补全， Ruff 提供诊断和格式化</li>
<li>灵活的自定义： 自定义 LSP Server 选项只需要一个 JSON 文件即可， 简单的几行规则就可以让不同的项目使用不同 JSON 配置</li>
</ol>

<p>
需要 <code>python</code> 依赖：
</p>

<ul class="org-ul">
<li><code>epc</code></li>
<li><code>orjson</code></li>
<li><code>sexpdata</code></li>
<li><code>six</code></li>
<li><code>setuptools</code></li>
<li><code>rapidfuzz</code></li>
</ul>

<p>
当前该插件处于关闭状态
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
  lsp-bridge
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:disabled</span> t
  <span class="org-builtin">:ensure</span>
  '<span class="org-rainbow-delimiters-depth-2">(</span>lsp-bridge
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:type</span> git
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:host</span> github
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:repo</span> <span class="org-string">"manateelazycat/lsp-bridge"</span>
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:files</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-builtin">:defaults</span> <span class="org-string">"*.el"</span> <span class="org-string">"*.py"</span> <span class="org-string">"acm"</span> <span class="org-string">"core"</span> <span class="org-string">"langserver"</span> <span class="org-string">"multiserver"</span> <span class="org-string">"resources"</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-builtin">:build</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-builtin">:not</span> compile<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:init</span> <span class="org-rainbow-delimiters-depth-2">(</span>global-lsp-bridge-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org96d3607" class="outline-3">
<h3 id="org96d3607"><span class="section-number-3">11.5.</span> init-lsp.el 文件尾</h3>
<div class="outline-text-3" id="text-11-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-lsp</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-lsp.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org5e55a22" class="outline-2">
<h2 id="org5e55a22"><span class="section-number-2">12.</span> init-treesitter.el</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org4feff26" class="outline-3">
<h3 id="org4feff26"><span class="section-number-3">12.1.</span> init-treesitter.el 文件头</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-treesitter.el --- Tools settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary: Useful tools to make Emacs efficient!</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orgaabf1ec" class="outline-3">
<h3 id="orgaabf1ec"><span class="section-number-3">12.2.</span> treesit-auto</h3>
<div class="outline-text-3" id="text-12-2">
<p>
<code>treesit-auto</code> 是一个自动安装 treesitter 的插件，但是需要对应的 lang 有相应的 <code>ts-mode</code> 。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">treesit-auto</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>treesit-auto-install 'prompt<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>treesit-auto-install t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>treesit-font-lock-level 4<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>treesit-auto-add-to-auto-mode-alist 'all<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>global-treesit-auto-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org221b1bc" class="outline-3">
<h3 id="org221b1bc"><span class="section-number-3">12.3.</span> ts-fold</h3>
<div class="outline-text-3" id="text-12-3">
<p>
利用 treesitter 进行代码折叠。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ts-fold</span>
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:ensure</span> <span class="org-rainbow-delimiters-depth-2">(</span>ts-fold <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"emacs-tree-sitter/ts-fold"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd52fe00" class="outline-3">
<h3 id="orgd52fe00"><span class="section-number-3">12.4.</span> init-treesitter.el 文件尾</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-treesitter</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-treesitter.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf8aeb70" class="outline-2">
<h2 id="orgf8aeb70"><span class="section-number-2">13.</span> init-lang.el</h2>
<div class="outline-text-2" id="text-13">
</div>
<div id="outline-container-org1c9dcc0" class="outline-3">
<h3 id="org1c9dcc0"><span class="section-number-3">13.1.</span> init-lang.el 文件头</h3>
<div class="outline-text-3" id="text-13-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-lang.el --- Tools settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary: Useful tools to make Emacs efficient!</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org5111ec2" class="outline-3">
<h3 id="org5111ec2"><span class="section-number-3">13.2.</span> web-mode</h3>
<div class="outline-text-3" id="text-13-2">
<p>
<a href="https://web-mode.org/">web-mode</a>，增加前端支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">web-mode</span>
  <span class="org-builtin">:mode</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.phtml\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.php\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.tpl\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.[agj]sp\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.as[cp]x\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.erb\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.mustache\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\.djhtml\\'"</span> . web-mode<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org3ce478d" class="outline-4">
<h4 id="org3ce478d"><span class="section-number-4">13.2.1.</span> vue-mode</h4>
<div class="outline-text-4" id="text-13-2-1">
<p>
<a href="https://github.com/AdamNiederer/vue-mode">vue-mode</a>，增加 vue 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">vue-mode</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9d4099f" class="outline-3">
<h3 id="org9d4099f"><span class="section-number-3">13.3.</span> lua-mode</h3>
<div class="outline-text-3" id="text-13-3">
<p>
<a href="https://github.com/immerrr/lua-mode">lua-mode</a>，增加 lua 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">lua-mode</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org44b0f64" class="outline-3">
<h3 id="org44b0f64"><span class="section-number-3">13.4.</span> go-mode</h3>
<div class="outline-text-3" id="text-13-4">
<p>
<a href="https://github.com/dominikh/go-mode.el">go-mode</a>，增加 go 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">go-mode</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdac2f28" class="outline-3">
<h3 id="orgdac2f28"><span class="section-number-3">13.5.</span> zig-mode for ziglang</h3>
<div class="outline-text-3" id="text-13-5">
<p>
<code>zig-mode</code> 是一个由 ziglang 官方维护的包。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span>
 zig-mode
 <span class="org-builtin">:defer</span> t
 <span class="org-builtin">:custom</span> <span class="org-rainbow-delimiters-depth-2">(</span>zig-format-on-save nil <span class="org-string">"disable zig format on save"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org13da99b" class="outline-3">
<h3 id="org13da99b"><span class="section-number-3">13.6.</span> elisp lang</h3>
<div class="outline-text-3" id="text-13-6">
<p>
highlight-defined
</p>

<p>
高亮 elisp 中已经定义的符号
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">highlight-defined</span> <span class="org-builtin">:hook</span> <span class="org-rainbow-delimiters-depth-2">(</span>elisp-mode . highlight-defined-mode<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6a4abc4" class="outline-3">
<h3 id="org6a4abc4"><span class="section-number-3">13.7.</span> nix-mode for nixlang</h3>
<div class="outline-text-3" id="text-13-7">
<p>
<code>nix-mode</code> 是由 nix 官方维护的次要模式
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">nix-mode</span>
  <span class="org-builtin">:if</span> <span class="org-rainbow-delimiters-depth-2">(</span>not <span class="org-rainbow-delimiters-depth-3">(</span>eq system-type 'windows-nt<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.nix\\'"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ece686" class="outline-3">
<h3 id="org4ece686"><span class="section-number-3">13.8.</span> rust-mode</h3>
<div class="outline-text-3" id="text-13-8">
<p>
<a href="https://github.com/rust-lang/rust-mode">rust-mode</a>，官方维护的 rust-mode
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">rust-mode</span>
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> rust-mode-treesitter-derive t<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:hook</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>rust-mode . <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-4">()</span> <span class="org-rainbow-delimiters-depth-4">(</span>prettify-symbols-mode<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-orgc577c3e" class="outline-4">
<h4 id="orgc577c3e"><span class="section-number-4">13.8.1.</span> rustic</h4>
<div class="outline-text-4" id="text-13-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">rustic</span>
  <span class="org-builtin">:after</span> <span class="org-rainbow-delimiters-depth-2">(</span>rust-mode<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">setq</span> rustic-format-on-save nil<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>rustic-cargo-use-last-stored-arguments t<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgebd57e9" class="outline-3">
<h3 id="orgebd57e9"><span class="section-number-3">13.9.</span> init-lang.el 文件尾</h3>
<div class="outline-text-3" id="text-13-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-lang</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-lang.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org51f04aa" class="outline-2">
<h2 id="org51f04aa"><span class="section-number-2">14.</span> init-blog.el</h2>
<div class="outline-text-2" id="text-14">
</div>
<div id="outline-container-orga393036" class="outline-3">
<h3 id="orga393036"><span class="section-number-3">14.1.</span> init-blog.el 文件头</h3>
<div class="outline-text-3" id="text-14-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-blog.el --- blog settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary: Useful tools to make Emacs efficient!</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orga5ded78" class="outline-3">
<h3 id="orga5ded78"><span class="section-number-3">14.2.</span> ox-hugo</h3>
<div class="outline-text-3" id="text-14-2">
<p>
<code>ex-hugo</code> 可以便捷地帮助我们使用 org 来编写博客内容。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">ox-hugo</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>org-hugo-auto-set-lastmod t <span class="org-string">"auto update latest time"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
<div id="outline-container-org5302b33" class="outline-4">
<h4 id="org5302b33"><span class="section-number-4">14.2.1.</span> 增加文章创建功能</h4>
<div class="outline-text-4" id="text-14-2-1">
<p>
先定义一个模板
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">format-org-hugo-header</span> <span class="org-rainbow-delimiters-depth-2">(</span>title author date base-dir section categories layout export-file-name<span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-doc">"Format an Org-mode header for ox-hugo with the given parameters."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>format <span class="org-string">"#+TITLE: %s\n#+AUTHOR: %s\n#+DATE: %s\n#+HUGO_BASE_DIR: %s\n#+HUGO_SECTION: %s\n#+HUGO_CUSTOM_FRONT_MATTER: :math false\n#+HUGO_CATEGORIES: %s\n#+HUGO_LAYOUT: %s\n#+EXPORT_FILE_NAME: %s\n"</span>
  <span class="org-indent-bars-1"> </span>       title
  <span class="org-indent-bars-1"> </span>       author
  <span class="org-indent-bars-1"> </span>       date
  <span class="org-indent-bars-1"> </span>       base-dir
  <span class="org-indent-bars-1"> </span>       section
  <span class="org-indent-bars-1"> </span>       categories
  <span class="org-indent-bars-1"> </span>       layout
  <span class="org-indent-bars-1"> </span>       export-file-name<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">blog-org</span><span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-doc">"Create a new blog post org in the org-hugo-base-dir."</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span>article-type <span class="org-rainbow-delimiters-depth-5">(</span>read-string <span class="org-string">"input article type:"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>article-name <span class="org-rainbow-delimiters-depth-5">(</span>read-string <span class="org-string">"input article name:"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>article-lang <span class="org-rainbow-delimiters-depth-5">(</span>completing-read <span class="org-string">"select language: "</span> '<span class="org-rainbow-delimiters-depth-6">(</span><span class="org-string">"en"</span> <span class="org-string">"cn"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span> 
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>layout <span class="org-rainbow-delimiters-depth-5">(</span>completing-read <span class="org-string">"select layout: "</span> '<span class="org-rainbow-delimiters-depth-6">(</span><span class="org-string">"docs"</span> <span class="org-string">"blog"</span> <span class="org-string">"default"</span><span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>base-dir <span class="org-string">"~/blog"</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>current-time <span class="org-rainbow-delimiters-depth-5">(</span>current-time<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>year <span class="org-rainbow-delimiters-depth-5">(</span>format-time-string <span class="org-string">"%Y"</span> current-time<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>month <span class="org-rainbow-delimiters-depth-5">(</span>format-time-string <span class="org-string">"%m"</span> current-time<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>day <span class="org-rainbow-delimiters-depth-5">(</span>format-time-string <span class="org-string">"%d"</span> current-time<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>date <span class="org-rainbow-delimiters-depth-5">(</span>concat year <span class="org-string">"-"</span> month <span class="org-string">"-"</span> day<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>section <span class="org-rainbow-delimiters-depth-5">(</span>concat article-type <span class="org-string">"/"</span> year <span class="org-string">"/"</span> month <span class="org-string">"/"</span> day <span class="org-string">"/"</span> article-name<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>post-dir <span class="org-rainbow-delimiters-depth-5">(</span>expand-file-name <span class="org-rainbow-delimiters-depth-6">(</span>concat <span class="org-string">"content-org"</span> <span class="org-string">"/"</span> section<span class="org-rainbow-delimiters-depth-6">)</span> base-dir<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>file-name <span class="org-rainbow-delimiters-depth-5">(</span>concat <span class="org-string">"index"</span> <span class="org-rainbow-delimiters-depth-6">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-7">(</span>string= article-lang <span class="org-string">"en"</span><span class="org-rainbow-delimiters-depth-7">)</span> <span class="org-string">""</span> <span class="org-string">".zh-cn"</span><span class="org-rainbow-delimiters-depth-6">)</span> <span class="org-string">".org"</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span>      <span class="org-rainbow-delimiters-depth-4">(</span>index-file <span class="org-rainbow-delimiters-depth-5">(</span>expand-file-name file-name post-dir<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>make-directory post-dir t<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">with-temp-file</span> index-file
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>insert <span class="org-rainbow-delimiters-depth-5">(</span>format-org-hugo-header article-name <span class="org-string">""</span> date base-dir section <span class="org-string">""</span> layout file-name<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#30830;&#20445;&#36825;&#20010;&#20989;&#25968;&#23384;&#22312;&#24182;&#36820;&#22238;&#26377;&#25928;&#20869;&#23481;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>find-file index-file<span class="org-rainbow-delimiters-depth-3">)</span>  <span class="org-comment-delimiter">;; </span><span class="org-comment">&#22312;&#25991;&#20214;&#29983;&#25104;&#21518;&#25171;&#24320;</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span>message <span class="org-string">"Create file: %s"</span> index-file<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf436e29" class="outline-3">
<h3 id="orgf436e29"><span class="section-number-3">14.3.</span> init-blog.el 文件尾</h3>
<div class="outline-text-3" id="text-14-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-blog</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-blog.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3e6e710" class="outline-2">
<h2 id="org3e6e710"><span class="section-number-2">15.</span> init-ai.el</h2>
<div class="outline-text-2" id="text-15">
</div>
<div id="outline-container-org96e4a7f" class="outline-3">
<h3 id="org96e4a7f"><span class="section-number-3">15.1.</span> init-ai.el 文件头</h3>
<div class="outline-text-3" id="text-15-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;; </span><span class="org-comment">init-ai.el --- blog settings -*- lexical-binding: t -*-</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">Commentary: Useful tools to make Emacs efficient!</span>

<span class="org-comment-delimiter">;;; </span><span class="org-comment">Code:</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org6aeb32e" class="outline-3">
<h3 id="org6aeb32e"><span class="section-number-3">15.2.</span> copilot</h3>
<div class="outline-text-3" id="text-15-2">
<p>
<a href="https://github.com/copilot-emacs/copilot.el">copilot</a>，copilot 支持
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">copilot</span>
  <span class="org-builtin">:ensure</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"copilot-emacs/copilot.el"</span> <span class="org-builtin">:files</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"*.el"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:bind</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c n"</span> . copilot-next-completion<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c p"</span> . copilot-previous-completion<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c w"</span> . copilot-accept-completion-by-word<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c l"</span> . copilot-accept-completion-by-line<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"C-c RET"</span> . rk/copilot-complete-or-accept<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">defun</span> <span class="org-function-name">rk/copilot-complete-or-accept</span> <span class="org-rainbow-delimiters-depth-3">()</span>
  <span class="org-indent-bars-1"> </span> <span class="org-doc">"Command that either triggers a completion or accepts one if one</span>
<span class="org-doc">is available. Useful if you tend to hammer your keys like I do."</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">interactive</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-4">(</span>copilot--overlay-visible<span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span>   <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-keyword">progn</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-rainbow-delimiters-depth-5">(</span>copilot-accept-completion<span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-rainbow-delimiters-depth-5">(</span>open-line 1<span class="org-rainbow-delimiters-depth-5">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-indent-bars-3"> </span> <span class="org-indent-bars-4"> </span> <span class="org-rainbow-delimiters-depth-5">(</span>next-line<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
  <span class="org-indent-bars-1"> </span> <span class="org-indent-bars-2"> </span> <span class="org-rainbow-delimiters-depth-4">(</span>copilot-complete<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'copilot-indentation-alist '<span class="org-rainbow-delimiters-depth-3">(</span>prog-mode 2<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'copilot-indentation-alist '<span class="org-rainbow-delimiters-depth-3">(</span>org-mode 2<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'copilot-indentation-alist '<span class="org-rainbow-delimiters-depth-3">(</span>text-mode 2<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'copilot-indentation-alist '<span class="org-rainbow-delimiters-depth-3">(</span>closure-mode 2<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>add-to-list 'copilot-indentation-alist '<span class="org-rainbow-delimiters-depth-3">(</span>emacs-lisp-mode 2<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb456694" class="outline-3">
<h3 id="orgb456694"><span class="section-number-3">15.3.</span> copilot-chat</h3>
<div class="outline-text-3" id="text-15-3">
<p>
<a href="https://github.com/chep/copilot-chat.el">copilot-chat</a> 是一第三方实现的插件，支持使用 copilot
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">use-package</span> <span class="org-constant">copilot-chat</span>
  <span class="org-builtin">:ensure</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"chep/copilot-chat.el"</span> <span class="org-builtin">:files</span> <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"*.el"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:custom</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>copilot-chat-curl-program <span class="org-string">"curl"</span><span class="org-rainbow-delimiters-depth-2">)</span>
  <span class="org-builtin">:after</span> <span class="org-rainbow-delimiters-depth-2">(</span>request org<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbd47f40" class="outline-3">
<h3 id="orgbd47f40"><span class="section-number-3">15.4.</span> init-ai.el 文件尾</h3>
<div class="outline-text-3" id="text-15-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">provide</span> '<span class="org-constant">init-ai</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="org-comment-delimiter">;;; </span><span class="org-comment">init-ai.el ends here</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">&#20316;&#32773;: 金中甲</p>
<p class="date">Created: 2024-10-04 Fri 16:12</p>
</div>
</body>
</html>
